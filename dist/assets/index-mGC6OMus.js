(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function mm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bc={exports:{}},Bo={},jc={exports:{}},Ae={};var lp;function Ky(){if(lp)return Ae;lp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.iterator;function M(x){return x===null||typeof x!="object"?null:(x=D&&x[D]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function $(x,z,ae){this.props=x,this.context=z,this.refs=Y,this.updater=ae||j}$.prototype.isReactComponent={},$.prototype.setState=function(x,z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,z,"setState")},$.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ee(){}Ee.prototype=$.prototype;function we(x,z,ae){this.props=x,this.context=z,this.refs=Y,this.updater=ae||j}var X=we.prototype=new Ee;X.constructor=we,G(X,$.prototype),X.isPureReactComponent=!0;var pe=Array.isArray,Te=Object.prototype.hasOwnProperty,ye={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(x,z,ae){var Ie,Se={},Pe=null,Le=null;if(z!=null)for(Ie in z.ref!==void 0&&(Le=z.ref),z.key!==void 0&&(Pe=""+z.key),z)Te.call(z,Ie)&&!k.hasOwnProperty(Ie)&&(Se[Ie]=z[Ie]);var Me=arguments.length-2;if(Me===1)Se.children=ae;else if(1<Me){for(var ze=Array(Me),dt=0;dt<Me;dt++)ze[dt]=arguments[dt+2];Se.children=ze}if(x&&x.defaultProps)for(Ie in Me=x.defaultProps,Me)Se[Ie]===void 0&&(Se[Ie]=Me[Ie]);return{$$typeof:i,type:x,key:Pe,ref:Le,props:Se,_owner:ye.current}}function A(x,z){return{$$typeof:i,type:x.type,key:z,ref:x.ref,props:x.props,_owner:x._owner}}function P(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function V(x){var z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ae){return z[ae]})}var N=/\/+/g;function S(x,z){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):z.toString(36)}function Ze(x,z,ae,Ie,Se){var Pe=typeof x;(Pe==="undefined"||Pe==="boolean")&&(x=null);var Le=!1;if(x===null)Le=!0;else switch(Pe){case"string":case"number":Le=!0;break;case"object":switch(x.$$typeof){case i:case e:Le=!0}}if(Le)return Le=x,Se=Se(Le),x=Ie===""?"."+S(Le,0):Ie,pe(Se)?(ae="",x!=null&&(ae=x.replace(N,"$&/")+"/"),Ze(Se,z,ae,"",function(dt){return dt})):Se!=null&&(P(Se)&&(Se=A(Se,ae+(!Se.key||Le&&Le.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+x)),z.push(Se)),1;if(Le=0,Ie=Ie===""?".":Ie+":",pe(x))for(var Me=0;Me<x.length;Me++){Pe=x[Me];var ze=Ie+S(Pe,Me);Le+=Ze(Pe,z,ae,ze,Se)}else if(ze=M(x),typeof ze=="function")for(x=ze.call(x),Me=0;!(Pe=x.next()).done;)Pe=Pe.value,ze=Ie+S(Pe,Me++),Le+=Ze(Pe,z,ae,ze,Se);else if(Pe==="object")throw z=String(x),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ct(x,z,ae){if(x==null)return x;var Ie=[],Se=0;return Ze(x,Ie,"","",function(Pe){return z.call(ae,Pe,Se++)}),Ie}function Pt(x){if(x._status===-1){var z=x._result;z=z(),z.then(function(ae){(x._status===0||x._status===-1)&&(x._status=1,x._result=ae)},function(ae){(x._status===0||x._status===-1)&&(x._status=2,x._result=ae)}),x._status===-1&&(x._status=0,x._result=z)}if(x._status===1)return x._result.default;throw x._result}var Be={current:null},Z={transition:null},ue={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ye};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Ct,forEach:function(x,z,ae){Ct(x,function(){z.apply(this,arguments)},ae)},count:function(x){var z=0;return Ct(x,function(){z++}),z},toArray:function(x){return Ct(x,function(z){return z})||[]},only:function(x){if(!P(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ae.Component=$,Ae.Fragment=r,Ae.Profiler=l,Ae.PureComponent=we,Ae.StrictMode=o,Ae.Suspense=_,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ae.act=te,Ae.cloneElement=function(x,z,ae){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Ie=G({},x.props),Se=x.key,Pe=x.ref,Le=x._owner;if(z!=null){if(z.ref!==void 0&&(Pe=z.ref,Le=ye.current),z.key!==void 0&&(Se=""+z.key),x.type&&x.type.defaultProps)var Me=x.type.defaultProps;for(ze in z)Te.call(z,ze)&&!k.hasOwnProperty(ze)&&(Ie[ze]=z[ze]===void 0&&Me!==void 0?Me[ze]:z[ze])}var ze=arguments.length-2;if(ze===1)Ie.children=ae;else if(1<ze){Me=Array(ze);for(var dt=0;dt<ze;dt++)Me[dt]=arguments[dt+2];Ie.children=Me}return{$$typeof:i,type:x.type,key:Se,ref:Pe,props:Ie,_owner:Le}},Ae.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:c,_context:x},x.Consumer=x},Ae.createElement=T,Ae.createFactory=function(x){var z=T.bind(null,x);return z.type=x,z},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:g,render:x}},Ae.isValidElement=P,Ae.lazy=function(x){return{$$typeof:I,_payload:{_status:-1,_result:x},_init:Pt}},Ae.memo=function(x,z){return{$$typeof:E,type:x,compare:z===void 0?null:z}},Ae.startTransition=function(x){var z=Z.transition;Z.transition={};try{x()}finally{Z.transition=z}},Ae.unstable_act=te,Ae.useCallback=function(x,z){return Be.current.useCallback(x,z)},Ae.useContext=function(x){return Be.current.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x){return Be.current.useDeferredValue(x)},Ae.useEffect=function(x,z){return Be.current.useEffect(x,z)},Ae.useId=function(){return Be.current.useId()},Ae.useImperativeHandle=function(x,z,ae){return Be.current.useImperativeHandle(x,z,ae)},Ae.useInsertionEffect=function(x,z){return Be.current.useInsertionEffect(x,z)},Ae.useLayoutEffect=function(x,z){return Be.current.useLayoutEffect(x,z)},Ae.useMemo=function(x,z){return Be.current.useMemo(x,z)},Ae.useReducer=function(x,z,ae){return Be.current.useReducer(x,z,ae)},Ae.useRef=function(x){return Be.current.useRef(x)},Ae.useState=function(x){return Be.current.useState(x)},Ae.useSyncExternalStore=function(x,z,ae){return Be.current.useSyncExternalStore(x,z,ae)},Ae.useTransition=function(){return Be.current.useTransition()},Ae.version="18.3.1",Ae}var up;function Th(){return up||(up=1,jc.exports=Ky()),jc.exports}var cp;function Gy(){if(cp)return Bo;cp=1;var i=Th(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,E){var I,D={},M=null,j=null;E!==void 0&&(M=""+E),_.key!==void 0&&(M=""+_.key),_.ref!==void 0&&(j=_.ref);for(I in _)o.call(_,I)&&!c.hasOwnProperty(I)&&(D[I]=_[I]);if(g&&g.defaultProps)for(I in _=g.defaultProps,_)D[I]===void 0&&(D[I]=_[I]);return{$$typeof:e,type:g,key:M,ref:j,props:D,_owner:l.current}}return Bo.Fragment=r,Bo.jsx=f,Bo.jsxs=f,Bo}var hp;function Xy(){return hp||(hp=1,Bc.exports=Gy()),Bc.exports}var ce=Xy(),hr=Th();const Yy=mm(hr);var Cl={},zc={exports:{}},Qt={},bc={exports:{}},$c={};var fp;function Jy(){return fp||(fp=1,(function(i){function e(Z,ue){var te=Z.length;Z.push(ue);e:for(;0<te;){var x=te-1>>>1,z=Z[x];if(0<l(z,ue))Z[x]=ue,Z[te]=z,te=x;else break e}}function r(Z){return Z.length===0?null:Z[0]}function o(Z){if(Z.length===0)return null;var ue=Z[0],te=Z.pop();if(te!==ue){Z[0]=te;e:for(var x=0,z=Z.length,ae=z>>>1;x<ae;){var Ie=2*(x+1)-1,Se=Z[Ie],Pe=Ie+1,Le=Z[Pe];if(0>l(Se,te))Pe<z&&0>l(Le,Se)?(Z[x]=Le,Z[Pe]=te,x=Pe):(Z[x]=Se,Z[Ie]=te,x=Ie);else if(Pe<z&&0>l(Le,te))Z[x]=Le,Z[Pe]=te,x=Pe;else break e}}return ue}function l(Z,ue){var te=Z.sortIndex-ue.sortIndex;return te!==0?te:Z.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var _=[],E=[],I=1,D=null,M=3,j=!1,G=!1,Y=!1,$=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(Z){for(var ue=r(E);ue!==null;){if(ue.callback===null)o(E);else if(ue.startTime<=Z)o(E),ue.sortIndex=ue.expirationTime,e(_,ue);else break;ue=r(E)}}function pe(Z){if(Y=!1,X(Z),!G)if(r(_)!==null)G=!0,Pt(Te);else{var ue=r(E);ue!==null&&Be(pe,ue.startTime-Z)}}function Te(Z,ue){G=!1,Y&&(Y=!1,Ee(T),T=-1),j=!0;var te=M;try{for(X(ue),D=r(_);D!==null&&(!(D.expirationTime>ue)||Z&&!V());){var x=D.callback;if(typeof x=="function"){D.callback=null,M=D.priorityLevel;var z=x(D.expirationTime<=ue);ue=i.unstable_now(),typeof z=="function"?D.callback=z:D===r(_)&&o(_),X(ue)}else o(_);D=r(_)}if(D!==null)var ae=!0;else{var Ie=r(E);Ie!==null&&Be(pe,Ie.startTime-ue),ae=!1}return ae}finally{D=null,M=te,j=!1}}var ye=!1,k=null,T=-1,A=5,P=-1;function V(){return!(i.unstable_now()-P<A)}function N(){if(k!==null){var Z=i.unstable_now();P=Z;var ue=!0;try{ue=k(!0,Z)}finally{ue?S():(ye=!1,k=null)}}else ye=!1}var S;if(typeof we=="function")S=function(){we(N)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Ct=Ze.port2;Ze.port1.onmessage=N,S=function(){Ct.postMessage(null)}}else S=function(){$(N,0)};function Pt(Z){k=Z,ye||(ye=!0,S())}function Be(Z,ue){T=$(function(){Z(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){G||j||(G=!0,Pt(Te))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return r(_)},i.unstable_next=function(Z){switch(M){case 1:case 2:case 3:var ue=3;break;default:ue=M}var te=M;M=ue;try{return Z()}finally{M=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=M;M=Z;try{return ue()}finally{M=te}},i.unstable_scheduleCallback=function(Z,ue,te){var x=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?x+te:x):te=x,Z){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=te+z,Z={id:I++,callback:ue,priorityLevel:Z,startTime:te,expirationTime:z,sortIndex:-1},te>x?(Z.sortIndex=te,e(E,Z),r(_)===null&&Z===r(E)&&(Y?(Ee(T),T=-1):Y=!0,Be(pe,te-x))):(Z.sortIndex=z,e(_,Z),G||j||(G=!0,Pt(Te))),Z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Z){var ue=M;return function(){var te=M;M=ue;try{return Z.apply(this,arguments)}finally{M=te}}}})($c)),$c}var dp;function Zy(){return dp||(dp=1,bc.exports=Jy()),bc.exports}var pp;function e_(){if(pp)return Qt;pp=1;var i=Th(),e=Zy();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){f(t,n),f(t+"Capture",n)}function f(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},D={};function M(t){return _.call(D,t)?!0:_.call(I,t)?!1:E.test(t)?D[t]=!0:(I[t]=!0,!1)}function j(t,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G(t,n,s,u){if(n===null||typeof n>"u"||j(t,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Y(t,n,s,u,h,p,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=y}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];$[n]=new Y(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function we(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Ee,we);$[n]=new Y(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Ee,we);$[n]=new Y(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Ee,we);$[n]=new Y(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function X(t,n,s,u){var h=$.hasOwnProperty(n)?$[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(G(n,s,h,u)&&(s=null),u||h===null?M(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?t.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?t.setAttributeNS(u,n,s):t.setAttribute(n,s))))}var pe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),ye=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,x;function z(t){if(x===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||""}return`
`+x+t}var ae=!1;function Ie(t,n){if(!t||ae)return"";ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(U){var u=U}Reflect.construct(t,[],n)}else{try{n.call()}catch(U){u=U}t.call(n.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?z(t):""}function Se(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function Pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case ye:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case N:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ct:return n=t.displayName||null,n!==null?n:Pe(t.type)||"Memo";case Pt:n=t._payload,t=t._init;try{return Pe(t(n))}catch{}}return null}function Le(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ze(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(t){var n=ze(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qn(t){t._valueTracker||(t._valueTracker=dt(t))}function Li(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=ze(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gr(t,n){var s=n.checked;return te({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Mi(t,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Me(n.value!=null?n.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function qs(t,n){n=n.checked,n!=null&&X(t,"checked",n,!1)}function Ws(t,n){qs(t,n);var s=Me(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Fi(t,n.type,s):n.hasOwnProperty("defaultValue")&&Fi(t,n.type,Me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function fa(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Fi(t,n,s){(n!=="number"||gr(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Kn=Array.isArray;function Gn(t,n,s,u){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Hs(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ui(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Kn(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Me(s)}}function Bi(t,n){var s=Me(n.value),u=Me(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function Qs(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,Ks=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,s,u,h)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function yr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yr=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){Yr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Xr[n]=Xr[t]})});function Gs(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+n).trim():n+"px"}function Xs(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Gs(s,n[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,h):t[s]=h}}var Ys=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,n){if(n){if(Ys[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Zs(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,sn=null,Vn=null;function bi(t){if(t=So(t)){if(typeof zi!="function")throw Error(r(280));var n=t.stateNode;n&&(n=ba(n),zi(t.stateNode,t.type,n))}}function Dn(t){sn?Vn?Vn.push(t):Vn=[t]:sn=t}function eo(){if(sn){var t=sn,n=Vn;if(Vn=sn=null,bi(t),n)for(t=0;t<n.length;t++)bi(n[t])}}function Zr(t,n){return t(n)}function to(){}var Yn=!1;function no(t,n,s){if(Yn)return t(n,s);Yn=!0;try{return Zr(t,n,s)}finally{Yn=!1,(sn!==null||Vn!==null)&&(to(),eo())}}function et(t,n){var s=t.stateNode;if(s===null)return null;var u=ba(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var $i=!1;if(g)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){$i=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{$i=!1}function ei(t,n,s,u,h,p,y,w,R){var U=Array.prototype.slice.call(arguments,3);try{n.apply(s,U)}catch(q){this.onError(q)}}var ti=!1,qi=null,gn=!1,ro=null,du={onError:function(t){ti=!0,qi=t}};function Wi(t,n,s,u,h,p,y,w,R){ti=!1,qi=null,ei.apply(du,arguments)}function da(t,n,s,u,h,p,y,w,R){if(Wi.apply(this,arguments),ti){if(ti){var U=qi;ti=!1,qi=null}else throw Error(r(198));gn||(gn=!0,ro=U)}}function yn(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function ni(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _n(t){if(yn(t)!==t)throw Error(r(188))}function pa(t){var n=t.alternate;if(!n){if(n=yn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,u=n;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return _n(h),t;if(p===u)return _n(h),n;p=p.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===s){y=!0,s=h,u=p;break}if(w===u){y=!0,u=h,s=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===s){y=!0,s=p,u=h;break}if(w===u){y=!0,u=p,s=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function io(t){return t=pa(t),t!==null?Hi(t):null}function Hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Hi(t);if(n!==null)return n;t=t.sibling}return null}var Qi=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,ma=e.unstable_shouldYield,pu=e.unstable_requestPaint,be=e.unstable_now,ga=e.unstable_getCurrentPriorityLevel,ri=e.unstable_ImmediatePriority,_r=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,oo=e.unstable_LowPriority,ya=e.unstable_IdlePriority,ii=null,Gt=null;function _a(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ii,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Ea,ao=Math.log,va=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(ao(t)/va|0)|0}var Ki=64,Gi=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function si(t,n){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=s&268435455;if(y!==0){var w=y&~h;w!==0?u=vr(w):(p&=y,p!==0&&(u=vr(p)))}else y=s&~h,y!==0?u=vr(y):p!==0&&(u=vr(p));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((u&4)!==0&&(u|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)s=31-Mt(n),h=1<<s,u|=t[s],n&=~h;return u}function mu(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Mt(p),w=1<<y,R=h[y];R===-1?((w&s)===0||(w&u)!==0)&&(h[y]=mu(w,n)):R<=n&&(t.expiredLanes|=w),p&=~w}}function Xt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oi(){var t=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),t}function Er(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function wr(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Mt(n),t[n]=s}function je(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-Mt(s),p=1<<h;n[h]=0,u[h]=-1,t[h]=-1,s&=~p}}function Tr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-Mt(s),h=1<<u;h&n|t[u]&n&&(t[u]|=n),s&=~h}}var Ce=0;function Ir(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var wa,Xi,Ta,Ia,Sa,lo=!1,xn=[],vt=null,vn=null,En=null,Sr=new Map,an=new Map,Nn=[],gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,n){switch(t){case"focusin":case"focusout":vt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Sr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(n.pointerId)}}function jt(t,n,s,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},n!==null&&(n=So(n),n!==null&&Xi(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function yu(t,n,s,u,h){switch(n){case"focusin":return vt=jt(vt,t,n,s,u,h),!0;case"dragenter":return vn=jt(vn,t,n,s,u,h),!0;case"mouseover":return En=jt(En,t,n,s,u,h),!0;case"pointerover":var p=h.pointerId;return Sr.set(p,jt(Sr.get(p)||null,t,n,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,n,s,u,h)),!0}return!1}function Ra(t){var n=hi(t.target);if(n!==null){var s=yn(n);if(s!==null){if(n=s.tag,n===13){if(n=ni(s),n!==null){t.blockedOn=n,Sa(t.priority,function(){Ta(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zn(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Jr=u,s.target.dispatchEvent(u),Jr=null}else return n=So(s),n!==null&&Xi(n),t.blockedOn=s,!1;n.shift()}return!0}function ai(t,n,s){Zn(t)&&s.delete(n)}function Ca(){lo=!1,vt!==null&&Zn(vt)&&(vt=null),vn!==null&&Zn(vn)&&(vn=null),En!==null&&Zn(En)&&(En=null),Sr.forEach(ai),an.forEach(ai)}function wn(t,n){t.blockedOn===n&&(t.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ca)))}function Tn(t){function n(h){return wn(h,t)}if(0<xn.length){wn(xn[0],t);for(var s=1;s<xn.length;s++){var u=xn[s];u.blockedOn===t&&(u.blockedOn=null)}}for(vt!==null&&wn(vt,t),vn!==null&&wn(vn,t),En!==null&&wn(En,t),Sr.forEach(n),an.forEach(n),s=0;s<Nn.length;s++)u=Nn[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<Nn.length&&(s=Nn[0],s.blockedOn===null);)Ra(s),s.blockedOn===null&&Nn.shift()}var er=pe.ReactCurrentBatchConfig,Ar=!0;function He(t,n,s,u){var h=Ce,p=er.transition;er.transition=null;try{Ce=1,uo(t,n,s,u)}finally{Ce=h,er.transition=p}}function _u(t,n,s,u){var h=Ce,p=er.transition;er.transition=null;try{Ce=4,uo(t,n,s,u)}finally{Ce=h,er.transition=p}}function uo(t,n,s,u){if(Ar){var h=Yi(t,n,s,u);if(h===null)ku(t,n,u,li,s),Aa(t,u);else if(yu(h,t,n,s,u))u.stopPropagation();else if(Aa(t,u),n&4&&-1<gu.indexOf(t)){for(;h!==null;){var p=So(h);if(p!==null&&wa(p),p=Yi(t,n,s,u),p===null&&ku(t,n,u,li,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else ku(t,n,u,null,s)}}var li=null;function Yi(t,n,s,u){if(li=null,t=ji(u),t=hi(t),t!==null)if(n=yn(t),n===null)t=null;else if(s=n.tag,s===13){if(t=ni(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return li=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ga()){case ri:return 1;case _r:return 4;case on:case oo:return 16;case ya:return 536870912;default:return 16}default:return 16}}var Yt=null,Ji=null,zt=null;function ho(){if(zt)return zt;var t,n=Ji,s=n.length,u,h="value"in Yt?Yt.value:Yt.textContent,p=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(u=1;u<=y&&n[s-u]===h[p-u];u++);return zt=h.slice(t,1<u?1-u:void 0)}function Zi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function fo(){return!1}function Et(t){function n(s,u,h,p,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?On:fo,this.isPropagationStopped=fo,this}return te(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),n}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Et(In),Ln=te({},In,{view:0,detail:0}),vu=Et(Ln),ts,tr,Rr,ui=te({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(ts=t.screenX-Rr.screenX,tr=t.screenY-Rr.screenY):tr=ts=0,Rr=t),ts)},movementY:function(t){return"movementY"in t?t.movementY:tr}}),ns=Et(ui),po=te({},ui,{dataTransfer:0}),Pa=Et(po),rs=te({},Ln,{relatedTarget:0}),is=Et(rs),ka=te({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),nr=Et(ka),Va=te({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=Et(Va),xa=te({},In,{data:0}),mo=Et(xa),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Na[t])?!!n[t]:!1}function Mn(){return Oa}var a=te({},Ln,{key:function(t){if(t.key){var n=ss[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Zi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return t.type==="keypress"?Zi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Et(a),m=te({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v=Et(m),O=te({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),B=Et(O),J=te({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=Et(J),lt=te({},ui,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=Et(lt),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,ln=null;g&&"documentMode"in document&&(ln=document.documentMode);var Jt=g&&"TextEvent"in window&&!ln,ci=g&&(!rt||ln&&8<ln&&11>=ln),os=" ",tf=!1;function nf(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function Wg(t,n){switch(t){case"compositionend":return rf(n);case"keypress":return n.which!==32?null:(tf=!0,os);case"textInput":return t=n.data,t===os&&tf?null:t;default:return null}}function Hg(t,n){if(as)return t==="compositionend"||!rt&&nf(t,n)?(t=ho(),zt=Ji=Yt=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var Qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Qg[t.type]:n==="textarea"}function of(t,n,s,u){Dn(u),n=Ba(n,"onChange"),0<n.length&&(s=new es("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var go=null,yo=null;function Kg(t){Sf(t,0)}function La(t){var n=fs(t);if(Li(n))return t}function Gg(t,n){if(t==="change")return n}var af=!1;if(g){var Eu;if(g){var wu="oninput"in document;if(!wu){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),wu=typeof lf.oninput=="function"}Eu=wu}else Eu=!1;af=Eu&&(!document.documentMode||9<document.documentMode)}function uf(){go&&(go.detachEvent("onpropertychange",cf),yo=go=null)}function cf(t){if(t.propertyName==="value"&&La(yo)){var n=[];of(n,yo,t,ji(t)),no(Kg,n)}}function Xg(t,n,s){t==="focusin"?(uf(),go=n,yo=s,go.attachEvent("onpropertychange",cf)):t==="focusout"&&uf()}function Yg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(yo)}function Jg(t,n){if(t==="click")return La(n)}function Zg(t,n){if(t==="input"||t==="change")return La(n)}function ey(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:ey;function _o(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!_.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function hf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ff(t,n){var s=hf(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hf(s)}}function df(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?df(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pf(){for(var t=window,n=gr();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gr(t.document)}return n}function Tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ty(t){var n=pf(),s=t.focusedElem,u=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&df(s.ownerDocument.documentElement,s)){if(u!==null&&Tu(s)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=ff(s,p);var y=ff(s,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ny=g&&"documentMode"in document&&11>=document.documentMode,ls=null,Iu=null,vo=null,Su=!1;function mf(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Su||ls==null||ls!==gr(u)||(u=ls,"selectionStart"in u&&Tu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vo&&_o(vo,u)||(vo=u,u=Ba(Iu,"onSelect"),0<u.length&&(n=new es("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=ls)))}function Ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var us={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Au={},gf={};g&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Fa(t){if(Au[t])return Au[t];if(!us[t])return t;var n=us[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in gf)return Au[t]=n[s];return t}var yf=Fa("animationend"),_f=Fa("animationiteration"),vf=Fa("animationstart"),Ef=Fa("transitionend"),wf=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,n){wf.set(t,n),c(n,[t])}for(var Ru=0;Ru<Tf.length;Ru++){var Cu=Tf[Ru],ry=Cu.toLowerCase(),iy=Cu[0].toUpperCase()+Cu.slice(1);Cr(ry,"on"+iy)}Cr(yf,"onAnimationEnd"),Cr(_f,"onAnimationIteration"),Cr(vf,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Ef,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function If(t,n,s){var u=t.type||"unknown-event";t.currentTarget=s,da(u,n,void 0,t),t.currentTarget=null}function Sf(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var p=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,U=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;If(h,w,U),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,U=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;If(h,w,U),p=R}}}if(gn)throw t=ro,gn=!1,ro=null,t}function qe(t,n){var s=n[Lu];s===void 0&&(s=n[Lu]=new Set);var u=t+"__bubble";s.has(u)||(Af(n,t,2,!1),s.add(u))}function Pu(t,n,s){var u=0;n&&(u|=4),Af(s,t,u,n)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function wo(t){if(!t[Ua]){t[Ua]=!0,o.forEach(function(s){s!=="selectionchange"&&(sy.has(s)||Pu(s,!1,t),Pu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ua]||(n[Ua]=!0,Pu("selectionchange",!1,n))}}function Af(t,n,s,u){switch(co(n)){case 1:var h=He;break;case 4:h=_u;break;default:h=uo}s=h.bind(null,n,s,t),h=void 0,!$i||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ku(t,n,s,u,h){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=hi(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}no(function(){var U=p,q=ji(s),Q=[];e:{var b=wf.get(t);if(b!==void 0){var ee=es,re=t;switch(t){case"keypress":if(Zi(s)===0)break e;case"keydown":case"keyup":ee=d;break;case"focusin":re="focus",ee=is;break;case"focusout":re="blur",ee=is;break;case"beforeblur":case"afterblur":ee=is;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=B;break;case yf:case _f:case vf:ee=nr;break;case Ef:ee=Fe;break;case"scroll":ee=vu;break;case"wheel":ee=ke;break;case"copy":case"cut":case"paste":ee=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=v}var ie=(n&4)!==0,tt=!ie&&t==="scroll",L=ie?b!==null?b+"Capture":null:b;ie=[];for(var C=U,F;C!==null;){F=C;var K=F.stateNode;if(F.tag===5&&K!==null&&(F=K,L!==null&&(K=et(C,L),K!=null&&ie.push(To(C,K,F)))),tt)break;C=C.return}0<ie.length&&(b=new ee(b,re,null,s,q),Q.push({event:b,listeners:ie}))}}if((n&7)===0){e:{if(b=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",b&&s!==Jr&&(re=s.relatedTarget||s.fromElement)&&(hi(re)||re[rr]))break e;if((ee||b)&&(b=q.window===q?q:(b=q.ownerDocument)?b.defaultView||b.parentWindow:window,ee?(re=s.relatedTarget||s.toElement,ee=U,re=re?hi(re):null,re!==null&&(tt=yn(re),re!==tt||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=U),ee!==re)){if(ie=ns,K="onMouseLeave",L="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ie=v,K="onPointerLeave",L="onPointerEnter",C="pointer"),tt=ee==null?b:fs(ee),F=re==null?b:fs(re),b=new ie(K,C+"leave",ee,s,q),b.target=tt,b.relatedTarget=F,K=null,hi(q)===U&&(ie=new ie(L,C+"enter",re,s,q),ie.target=F,ie.relatedTarget=tt,K=ie),tt=K,ee&&re)t:{for(ie=ee,L=re,C=0,F=ie;F;F=cs(F))C++;for(F=0,K=L;K;K=cs(K))F++;for(;0<C-F;)ie=cs(ie),C--;for(;0<F-C;)L=cs(L),F--;for(;C--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=cs(ie),L=cs(L)}ie=null}else ie=null;ee!==null&&Rf(Q,b,ee,ie,!1),re!==null&&tt!==null&&Rf(Q,tt,re,ie,!0)}}e:{if(b=U?fs(U):window,ee=b.nodeName&&b.nodeName.toLowerCase(),ee==="select"||ee==="input"&&b.type==="file")var oe=Gg;else if(sf(b))if(af)oe=Zg;else{oe=Yg;var he=Xg}else(ee=b.nodeName)&&ee.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(oe=Jg);if(oe&&(oe=oe(t,U))){of(Q,oe,s,q);break e}he&&he(t,b,U),t==="focusout"&&(he=b._wrapperState)&&he.controlled&&b.type==="number"&&Fi(b,"number",b.value)}switch(he=U?fs(U):window,t){case"focusin":(sf(he)||he.contentEditable==="true")&&(ls=he,Iu=U,vo=null);break;case"focusout":vo=Iu=ls=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,mf(Q,s,q);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":mf(Q,s,q)}var fe;if(rt)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else as?nf(t,s)&&(me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(ci&&s.locale!=="ko"&&(as||me!=="onCompositionStart"?me==="onCompositionEnd"&&as&&(fe=ho()):(Yt=q,Ji="value"in Yt?Yt.value:Yt.textContent,as=!0)),he=Ba(U,me),0<he.length&&(me=new mo(me,t,null,s,q),Q.push({event:me,listeners:he}),fe?me.data=fe:(fe=rf(s),fe!==null&&(me.data=fe)))),(fe=Jt?Wg(t,s):Hg(t,s))&&(U=Ba(U,"onBeforeInput"),0<U.length&&(q=new mo("onBeforeInput","beforeinput",null,s,q),Q.push({event:q,listeners:U}),q.data=fe))}Sf(Q,n)})}function To(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ba(t,n){for(var s=n+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,s),p!=null&&u.unshift(To(t,p,h)),p=et(t,n),p!=null&&u.push(To(t,p,h))),t=t.return}return u}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,n,s,u,h){for(var p=n._reactName,y=[];s!==null&&s!==u;){var w=s,R=w.alternate,U=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&U!==null&&(w=U,h?(R=et(s,p),R!=null&&y.unshift(To(s,R,w))):h||(R=et(s,p),R!=null&&y.push(To(s,R,w)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var oy=/\r\n?/g,ay=/\u0000|\uFFFD/g;function Cf(t){return(typeof t=="string"?t:""+t).replace(oy,`
`).replace(ay,"")}function ja(t,n,s){if(n=Cf(n),Cf(t)!==n&&s)throw Error(r(425))}function za(){}var Vu=null,Du=null;function xu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nu=typeof setTimeout=="function"?setTimeout:void 0,ly=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,uy=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(t){return Pf.resolve(null).then(t).catch(cy)}:Nu;function cy(t){setTimeout(function(){throw t})}function Ou(t,n){var s=n,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){t.removeChild(h),Tn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Tn(n)}function Pr(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function kf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Fn="__reactFiber$"+hs,Io="__reactProps$"+hs,rr="__reactContainer$"+hs,Lu="__reactEvents$"+hs,hy="__reactListeners$"+hs,fy="__reactHandles$"+hs;function hi(t){var n=t[Fn];if(n)return n;for(var s=t.parentNode;s;){if(n=s[rr]||s[Fn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=kf(t);t!==null;){if(s=t[Fn])return s;t=kf(t)}return n}t=s,s=t.parentNode}return null}function So(t){return t=t[Fn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function ba(t){return t[Io]||null}var Mu=[],ds=-1;function kr(t){return{current:t}}function We(t){0>ds||(t.current=Mu[ds],Mu[ds]=null,ds--)}function $e(t,n){ds++,Mu[ds]=t.current,t.current=n}var Vr={},kt=kr(Vr),bt=kr(!1),fi=Vr;function ps(t,n){var s=t.type.contextTypes;if(!s)return Vr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=n[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function $t(t){return t=t.childContextTypes,t!=null}function $a(){We(bt),We(kt)}function Vf(t,n,s){if(kt.current!==Vr)throw Error(r(168));$e(kt,n),$e(bt,s)}function Df(t,n,s){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Le(t)||"Unknown",h));return te({},s,u)}function qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,fi=kt.current,$e(kt,t),$e(bt,bt.current),!0}function xf(t,n,s){var u=t.stateNode;if(!u)throw Error(r(169));s?(t=Df(t,n,fi),u.__reactInternalMemoizedMergedChildContext=t,We(bt),We(kt),$e(kt,t)):We(bt),$e(bt,s)}var ir=null,Wa=!1,Fu=!1;function Nf(t){ir===null?ir=[t]:ir.push(t)}function dy(t){Wa=!0,Nf(t)}function Dr(){if(!Fu&&ir!==null){Fu=!0;var t=0,n=Ce;try{var s=ir;for(Ce=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}ir=null,Wa=!1}catch(h){throw ir!==null&&(ir=ir.slice(t+1)),Qi(ri,Dr),h}finally{Ce=n,Fu=!1}}return null}var ms=[],gs=0,Ha=null,Qa=0,un=[],cn=0,di=null,sr=1,or="";function pi(t,n){ms[gs++]=Qa,ms[gs++]=Ha,Ha=t,Qa=n}function Of(t,n,s){un[cn++]=sr,un[cn++]=or,un[cn++]=di,di=t;var u=sr;t=or;var h=32-Mt(u)-1;u&=~(1<<h),s+=1;var p=32-Mt(n)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,sr=1<<32-Mt(n)+h|s<<h|u,or=p+t}else sr=1<<p|s<<h|u,or=t}function Uu(t){t.return!==null&&(pi(t,1),Of(t,1,0))}function Bu(t){for(;t===Ha;)Ha=ms[--gs],ms[gs]=null,Qa=ms[--gs],ms[gs]=null;for(;t===di;)di=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null,sr=un[--cn],un[cn]=null}var Zt=null,en=null,Qe=!1,An=null;function Lf(t,n){var s=pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Mf(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Zt=t,en=Pr(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Zt=t,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=di!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=pn(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,Zt=t,en=null,!0):!1;default:return!1}}function ju(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(Qe){var n=en;if(n){var s=n;if(!Mf(t,n)){if(ju(t))throw Error(r(418));n=Pr(s.nextSibling);var u=Zt;n&&Mf(t,n)?Lf(u,s):(t.flags=t.flags&-4097|2,Qe=!1,Zt=t)}}else{if(ju(t))throw Error(r(418));t.flags=t.flags&-4097|2,Qe=!1,Zt=t}}}function Ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Ka(t){if(t!==Zt)return!1;if(!Qe)return Ff(t),Qe=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!xu(t.type,t.memoizedProps)),n&&(n=en)){if(ju(t))throw Uf(),Error(r(418));for(;n;)Lf(t,n),n=Pr(n.nextSibling)}if(Ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){en=Pr(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}en=null}}else en=Zt?Pr(t.stateNode.nextSibling):null;return!0}function Uf(){for(var t=en;t;)t=Pr(t.nextSibling)}function ys(){en=Zt=null,Qe=!1}function bu(t){An===null?An=[t]:An.push(t)}var py=pe.ReactCurrentBatchConfig;function Ao(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,t));var h=u,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},n._stringRef=p,n)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function Ga(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Bf(t){var n=t._init;return n(t._payload)}function jf(t){function n(L,C){if(t){var F=L.deletions;F===null?(L.deletions=[C],L.flags|=16):F.push(C)}}function s(L,C){if(!t)return null;for(;C!==null;)n(L,C),C=C.sibling;return null}function u(L,C){for(L=new Map;C!==null;)C.key!==null?L.set(C.key,C):L.set(C.index,C),C=C.sibling;return L}function h(L,C){return L=Br(L,C),L.index=0,L.sibling=null,L}function p(L,C,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<C?(L.flags|=2,C):F):(L.flags|=2,C)):(L.flags|=1048576,C)}function y(L){return t&&L.alternate===null&&(L.flags|=2),L}function w(L,C,F,K){return C===null||C.tag!==6?(C=Nc(F,L.mode,K),C.return=L,C):(C=h(C,F),C.return=L,C)}function R(L,C,F,K){var oe=F.type;return oe===k?q(L,C,F.props.children,K,F.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Bf(oe)===C.type)?(K=h(C,F.props),K.ref=Ao(L,C,F),K.return=L,K):(K=vl(F.type,F.key,F.props,null,L.mode,K),K.ref=Ao(L,C,F),K.return=L,K)}function U(L,C,F,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==F.containerInfo||C.stateNode.implementation!==F.implementation?(C=Oc(F,L.mode,K),C.return=L,C):(C=h(C,F.children||[]),C.return=L,C)}function q(L,C,F,K,oe){return C===null||C.tag!==7?(C=Ti(F,L.mode,K,oe),C.return=L,C):(C=h(C,F),C.return=L,C)}function Q(L,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Nc(""+C,L.mode,F),C.return=L,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Te:return F=vl(C.type,C.key,C.props,null,L.mode,F),F.ref=Ao(L,null,C),F.return=L,F;case ye:return C=Oc(C,L.mode,F),C.return=L,C;case Pt:var K=C._init;return Q(L,K(C._payload),F)}if(Kn(C)||ue(C))return C=Ti(C,L.mode,F,null),C.return=L,C;Ga(L,C)}return null}function b(L,C,F,K){var oe=C!==null?C.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return oe!==null?null:w(L,C,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Te:return F.key===oe?R(L,C,F,K):null;case ye:return F.key===oe?U(L,C,F,K):null;case Pt:return oe=F._init,b(L,C,oe(F._payload),K)}if(Kn(F)||ue(F))return oe!==null?null:q(L,C,F,K,null);Ga(L,F)}return null}function ee(L,C,F,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return L=L.get(F)||null,w(C,L,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Te:return L=L.get(K.key===null?F:K.key)||null,R(C,L,K,oe);case ye:return L=L.get(K.key===null?F:K.key)||null,U(C,L,K,oe);case Pt:var he=K._init;return ee(L,C,F,he(K._payload),oe)}if(Kn(K)||ue(K))return L=L.get(F)||null,q(C,L,K,oe,null);Ga(C,K)}return null}function re(L,C,F,K){for(var oe=null,he=null,fe=C,me=C=0,yt=null;fe!==null&&me<F.length;me++){fe.index>me?(yt=fe,fe=null):yt=fe.sibling;var Ne=b(L,fe,F[me],K);if(Ne===null){fe===null&&(fe=yt);break}t&&fe&&Ne.alternate===null&&n(L,fe),C=p(Ne,C,me),he===null?oe=Ne:he.sibling=Ne,he=Ne,fe=yt}if(me===F.length)return s(L,fe),Qe&&pi(L,me),oe;if(fe===null){for(;me<F.length;me++)fe=Q(L,F[me],K),fe!==null&&(C=p(fe,C,me),he===null?oe=fe:he.sibling=fe,he=fe);return Qe&&pi(L,me),oe}for(fe=u(L,fe);me<F.length;me++)yt=ee(fe,L,me,F[me],K),yt!==null&&(t&&yt.alternate!==null&&fe.delete(yt.key===null?me:yt.key),C=p(yt,C,me),he===null?oe=yt:he.sibling=yt,he=yt);return t&&fe.forEach(function(jr){return n(L,jr)}),Qe&&pi(L,me),oe}function ie(L,C,F,K){var oe=ue(F);if(typeof oe!="function")throw Error(r(150));if(F=oe.call(F),F==null)throw Error(r(151));for(var he=oe=null,fe=C,me=C=0,yt=null,Ne=F.next();fe!==null&&!Ne.done;me++,Ne=F.next()){fe.index>me?(yt=fe,fe=null):yt=fe.sibling;var jr=b(L,fe,Ne.value,K);if(jr===null){fe===null&&(fe=yt);break}t&&fe&&jr.alternate===null&&n(L,fe),C=p(jr,C,me),he===null?oe=jr:he.sibling=jr,he=jr,fe=yt}if(Ne.done)return s(L,fe),Qe&&pi(L,me),oe;if(fe===null){for(;!Ne.done;me++,Ne=F.next())Ne=Q(L,Ne.value,K),Ne!==null&&(C=p(Ne,C,me),he===null?oe=Ne:he.sibling=Ne,he=Ne);return Qe&&pi(L,me),oe}for(fe=u(L,fe);!Ne.done;me++,Ne=F.next())Ne=ee(fe,L,me,Ne.value,K),Ne!==null&&(t&&Ne.alternate!==null&&fe.delete(Ne.key===null?me:Ne.key),C=p(Ne,C,me),he===null?oe=Ne:he.sibling=Ne,he=Ne);return t&&fe.forEach(function(Qy){return n(L,Qy)}),Qe&&pi(L,me),oe}function tt(L,C,F,K){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Te:e:{for(var oe=F.key,he=C;he!==null;){if(he.key===oe){if(oe=F.type,oe===k){if(he.tag===7){s(L,he.sibling),C=h(he,F.props.children),C.return=L,L=C;break e}}else if(he.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Bf(oe)===he.type){s(L,he.sibling),C=h(he,F.props),C.ref=Ao(L,he,F),C.return=L,L=C;break e}s(L,he);break}else n(L,he);he=he.sibling}F.type===k?(C=Ti(F.props.children,L.mode,K,F.key),C.return=L,L=C):(K=vl(F.type,F.key,F.props,null,L.mode,K),K.ref=Ao(L,C,F),K.return=L,L=K)}return y(L);case ye:e:{for(he=F.key;C!==null;){if(C.key===he)if(C.tag===4&&C.stateNode.containerInfo===F.containerInfo&&C.stateNode.implementation===F.implementation){s(L,C.sibling),C=h(C,F.children||[]),C.return=L,L=C;break e}else{s(L,C);break}else n(L,C);C=C.sibling}C=Oc(F,L.mode,K),C.return=L,L=C}return y(L);case Pt:return he=F._init,tt(L,C,he(F._payload),K)}if(Kn(F))return re(L,C,F,K);if(ue(F))return ie(L,C,F,K);Ga(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,C!==null&&C.tag===6?(s(L,C.sibling),C=h(C,F),C.return=L,L=C):(s(L,C),C=Nc(F,L.mode,K),C.return=L,L=C),y(L)):s(L,C)}return tt}var _s=jf(!0),zf=jf(!1),Xa=kr(null),Ya=null,vs=null,$u=null;function qu(){$u=vs=Ya=null}function Wu(t){var n=Xa.current;We(Xa),t._currentValue=n}function Hu(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function Es(t,n){Ya=t,$u=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(qt=!0),t.firstContext=null)}function hn(t){var n=t._currentValue;if($u!==t)if(t={context:t,memoizedValue:n,next:null},vs===null){if(Ya===null)throw Error(r(308));vs=t,Ya.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return n}var mi=null;function Qu(t){mi===null?mi=[t]:mi.push(t)}function bf(t,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Qu(n)):(s.next=h.next,h.next=s),n.interleaved=s,ar(t,u)}function ar(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var xr=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Nr(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ar(t,s)}return h=u.interleaved,h===null?(n.next=n,Qu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ar(t,s)}function Ja(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Tr(t,s)}}function qf(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=y:p=p.next=y,s=s.next}while(s!==null);p===null?h=p=n:p=p.next=n}else h=p=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Za(t,n,s,u){var h=t.updateQueue;xr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,U=R.next;R.next=null,y===null?p=U:y.next=U,y=R;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=U:w.next=U,q.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,q=U=R=null,w=p;do{var b=w.lane,ee=w.eventTime;if((u&b)===b){q!==null&&(q=q.next={eventTime:ee,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch(b=n,ee=s,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){Q=re.call(ee,Q,b);break e}Q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,b=typeof re=="function"?re.call(ee,Q,b):re,b==null)break e;Q=te({},Q,b);break e;case 2:xr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,b=h.effects,b===null?h.effects=[w]:b.push(w))}else ee={eventTime:ee,lane:b,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(U=q=ee,R=Q):q=q.next=ee,y|=b;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;b=w,w=b.next,b.next=null,h.lastBaseUpdate=b,h.shared.pending=null}}while(!0);if(q===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);_i|=y,t.lanes=y,t.memoizedState=Q}}function Wf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Ro={},Un=kr(Ro),Co=kr(Ro),Po=kr(Ro);function gi(t){if(t===Ro)throw Error(r(174));return t}function Gu(t,n){switch($e(Po,n),$e(Co,t),$e(Un,Ro),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:at(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=at(n,t)}We(Un),$e(Un,n)}function ws(){We(Un),We(Co),We(Po)}function Hf(t){gi(Po.current);var n=gi(Un.current),s=at(n,t.type);n!==s&&($e(Co,t),$e(Un,s))}function Xu(t){Co.current===t&&(We(Un),We(Co))}var Ge=kr(0);function el(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yu=[];function Ju(){for(var t=0;t<Yu.length;t++)Yu[t]._workInProgressVersionPrimary=null;Yu.length=0}var tl=pe.ReactCurrentDispatcher,Zu=pe.ReactCurrentBatchConfig,yi=0,Xe=null,ut=null,mt=null,nl=!1,ko=!1,Vo=0,my=0;function Vt(){throw Error(r(321))}function ec(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Sn(t[s],n[s]))return!1;return!0}function tc(t,n,s,u,h,p){if(yi=p,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,tl.current=t===null||t.memoizedState===null?vy:Ey,t=s(u,h),ko){p=0;do{if(ko=!1,Vo=0,25<=p)throw Error(r(301));p+=1,mt=ut=null,n.updateQueue=null,tl.current=wy,t=s(u,h)}while(ko)}if(tl.current=sl,n=ut!==null&&ut.next!==null,yi=0,mt=ut=Xe=null,nl=!1,n)throw Error(r(300));return t}function nc(){var t=Vo!==0;return Vo=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=t:mt=mt.next=t,mt}function fn(){if(ut===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=mt===null?Xe.memoizedState:mt.next;if(n!==null)mt=n,ut=t;else{if(t===null)throw Error(r(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Xe.memoizedState=mt=t:mt=mt.next=t}return mt}function Do(t,n){return typeof n=="function"?n(t):n}function rc(t){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=ut,h=u.baseQueue,p=s.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,U=p;do{var q=U.lane;if((yi&q)===q)R!==null&&(R=R.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Q={lane:q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,Xe.lanes|=q,_i|=q}U=U.next}while(U!==null&&U!==p);R===null?y=u:R.next=w,Sn(u,n.memoizedState)||(qt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=R,s.lastRenderedState=u}if(t=s.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,_i|=p,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ic(t){var n=fn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,p=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Sn(p,n.memoizedState)||(qt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,u]}function Qf(){}function Kf(t,n){var s=Xe,u=fn(),h=n(),p=!Sn(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,sc(Yf.bind(null,s,u,t),[t]),u.getSnapshot!==n||p||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,xo(9,Xf.bind(null,s,u,h,n),void 0,null),gt===null)throw Error(r(349));(yi&30)!==0||Gf(s,n,h)}return h}function Gf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Xf(t,n,s,u){n.value=s,n.getSnapshot=u,Jf(n)&&Zf(t)}function Yf(t,n,s){return s(function(){Jf(n)&&Zf(t)})}function Jf(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Sn(t,s)}catch{return!0}}function Zf(t){var n=ar(t,1);n!==null&&kn(n,t,1,-1)}function ed(t){var n=Bn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},n.queue=t,t=t.dispatch=_y.bind(null,Xe,t),[n.memoizedState,t]}function xo(t,n,s,u){return t={tag:t,create:n,destroy:s,deps:u,next:null},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t)),t}function td(){return fn().memoizedState}function rl(t,n,s,u){var h=Bn();Xe.flags|=t,h.memoizedState=xo(1|n,s,void 0,u===void 0?null:u)}function il(t,n,s,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ut!==null){var y=ut.memoizedState;if(p=y.destroy,u!==null&&ec(u,y.deps)){h.memoizedState=xo(n,s,p,u);return}}Xe.flags|=t,h.memoizedState=xo(1|n,s,p,u)}function nd(t,n){return rl(8390656,8,t,n)}function sc(t,n){return il(2048,8,t,n)}function rd(t,n){return il(4,2,t,n)}function id(t,n){return il(4,4,t,n)}function sd(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function od(t,n,s){return s=s!=null?s.concat([t]):null,il(4,4,sd.bind(null,n,t),s)}function oc(){}function ad(t,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&ec(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function ld(t,n){var s=fn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&ec(n,u[1])?u[0]:(t=t(),s.memoizedState=[t,n],t)}function ud(t,n,s){return(yi&21)===0?(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=s):(Sn(s,n)||(s=oi(),Xe.lanes|=s,_i|=s,t.baseState=!0),n)}function gy(t,n){var s=Ce;Ce=s!==0&&4>s?s:4,t(!0);var u=Zu.transition;Zu.transition={};try{t(!1),n()}finally{Ce=s,Zu.transition=u}}function cd(){return fn().memoizedState}function yy(t,n,s){var u=Fr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},hd(t))fd(n,s);else if(s=bf(t,n,s,u),s!==null){var h=Bt();kn(s,t,u,h),dd(s,n,u)}}function _y(t,n,s){var u=Fr(t),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(hd(t))fd(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var y=n.lastRenderedState,w=p(y,s);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var R=n.interleaved;R===null?(h.next=h,Qu(n)):(h.next=R.next,R.next=h),n.interleaved=h;return}}catch{}s=bf(t,n,h,u),s!==null&&(h=Bt(),kn(s,t,u,h),dd(s,n,u))}}function hd(t){var n=t.alternate;return t===Xe||n!==null&&n===Xe}function fd(t,n){ko=nl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function dd(t,n,s){if((s&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Tr(t,s)}}var sl={readContext:hn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},vy={readContext:hn,useCallback:function(t,n){return Bn().memoizedState=[t,n===void 0?null:n],t},useContext:hn,useEffect:nd,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,rl(4194308,4,sd.bind(null,n,t),s)},useLayoutEffect:function(t,n){return rl(4194308,4,t,n)},useInsertionEffect:function(t,n){return rl(4,2,t,n)},useMemo:function(t,n){var s=Bn();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var u=Bn();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=yy.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var n=Bn();return t={current:t},n.memoizedState=t},useState:ed,useDebugValue:oc,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=ed(!1),n=t[0];return t=gy.bind(null,t[1]),Bn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var u=Xe,h=Bn();if(Qe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),gt===null)throw Error(r(349));(yi&30)!==0||Gf(u,n,s)}h.memoizedState=s;var p={value:s,getSnapshot:n};return h.queue=p,nd(Yf.bind(null,u,p,t),[t]),u.flags|=2048,xo(9,Xf.bind(null,u,p,s,n),void 0,null),s},useId:function(){var t=Bn(),n=gt.identifierPrefix;if(Qe){var s=or,u=sr;s=(u&~(1<<32-Mt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=Vo++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=my++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Ey={readContext:hn,useCallback:ad,useContext:hn,useEffect:sc,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:rc,useRef:td,useState:function(){return rc(Do)},useDebugValue:oc,useDeferredValue:function(t){var n=fn();return ud(n,ut.memoizedState,t)},useTransition:function(){var t=rc(Do)[0],n=fn().memoizedState;return[t,n]},useMutableSource:Qf,useSyncExternalStore:Kf,useId:cd,unstable_isNewReconciler:!1},wy={readContext:hn,useCallback:ad,useContext:hn,useEffect:sc,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:id,useMemo:ld,useReducer:ic,useRef:td,useState:function(){return ic(Do)},useDebugValue:oc,useDeferredValue:function(t){var n=fn();return ut===null?n.memoizedState=t:ud(n,ut.memoizedState,t)},useTransition:function(){var t=ic(Do)[0],n=fn().memoizedState;return[t,n]},useMutableSource:Qf,useSyncExternalStore:Kf,useId:cd,unstable_isNewReconciler:!1};function Rn(t,n){if(t&&t.defaultProps){n=te({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function ac(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:te({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ol={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var u=Bt(),h=Fr(t),p=lr(u,h);p.payload=n,s!=null&&(p.callback=s),n=Nr(t,p,h),n!==null&&(kn(n,t,h,u),Ja(n,t,h))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=Bt(),h=Fr(t),p=lr(u,h);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=Nr(t,p,h),n!==null&&(kn(n,t,h,u),Ja(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Bt(),u=Fr(t),h=lr(s,u);h.tag=2,n!=null&&(h.callback=n),n=Nr(t,h,u),n!==null&&(kn(n,t,u,s),Ja(n,t,u))}};function pd(t,n,s,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):n.prototype&&n.prototype.isPureReactComponent?!_o(s,u)||!_o(h,p):!0}function md(t,n,s){var u=!1,h=Vr,p=n.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=$t(n)?fi:kt.current,u=n.contextTypes,p=(u=u!=null)?ps(t,h):Vr),n=new n(s,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ol,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),n}function gd(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&ol.enqueueReplaceState(n,n.state,null)}function lc(t,n,s,u){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},Ku(t);var p=n.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=$t(n)?fi:kt.current,h.context=ps(t,p)),h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(ac(t,n,p,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&ol.enqueueReplaceState(h,h.state,null),Za(t,s,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,n){try{var s="",u=n;do s+=Se(u),u=u.return;while(u);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:h,digest:null}}function uc(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function cc(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Ty=typeof WeakMap=="function"?WeakMap:Map;function yd(t,n,s){s=lr(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){dl||(dl=!0,Ac=u),cc(t,n)},s}function _d(t,n,s){s=lr(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){cc(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){cc(t,n),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function vd(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Ty;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),t=My.bind(null,t,n,s),n.then(t,t))}function Ed(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function wd(t,n,s,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=lr(-1,1),n.tag=2,Nr(s,n,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Iy=pe.ReactCurrentOwner,qt=!1;function Ut(t,n,s,u){n.child=t===null?zf(n,null,s,u):_s(n,t.child,s,u)}function Td(t,n,s,u,h){s=s.render;var p=n.ref;return Es(n,h),u=tc(t,n,s,u,p,h),s=nc(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,ur(t,n,h)):(Qe&&s&&Uu(n),n.flags|=1,Ut(t,n,u,h),n.child)}function Id(t,n,s,u,h){if(t===null){var p=s.type;return typeof p=="function"&&!xc(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=p,Sd(t,n,p,u,h)):(t=vl(s.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(s=s.compare,s=s!==null?s:_o,s(y,u)&&t.ref===n.ref)return ur(t,n,h)}return n.flags|=1,t=Br(p,u),t.ref=n.ref,t.return=n,n.child=t}function Sd(t,n,s,u,h){if(t!==null){var p=t.memoizedProps;if(_o(p,u)&&t.ref===n.ref)if(qt=!1,n.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,ur(t,n,h)}return hc(t,n,s,u,h)}function Ad(t,n,s){var u=n.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ss,tn),tn|=s;else{if((s&1073741824)===0)return t=p!==null?p.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,$e(Ss,tn),tn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:s,$e(Ss,tn),tn|=u}else p!==null?(u=p.baseLanes|s,n.memoizedState=null):u=s,$e(Ss,tn),tn|=u;return Ut(t,n,h,s),n.child}function Rd(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function hc(t,n,s,u,h){var p=$t(s)?fi:kt.current;return p=ps(n,p),Es(n,h),s=tc(t,n,s,u,p,h),u=nc(),t!==null&&!qt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,ur(t,n,h)):(Qe&&u&&Uu(n),n.flags|=1,Ut(t,n,s,h),n.child)}function Cd(t,n,s,u,h){if($t(s)){var p=!0;qa(n)}else p=!1;if(Es(n,h),n.stateNode===null)ll(t,n),md(n,s,u),lc(n,s,u,h),u=!0;else if(t===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var R=y.context,U=s.contextType;typeof U=="object"&&U!==null?U=hn(U):(U=$t(s)?fi:kt.current,U=ps(n,U));var q=s.getDerivedStateFromProps,Q=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==U)&&gd(n,y,u,U),xr=!1;var b=n.memoizedState;y.state=b,Za(n,u,y,h),R=n.memoizedState,w!==u||b!==R||bt.current||xr?(typeof q=="function"&&(ac(n,s,q,u),R=n.memoizedState),(w=xr||pd(n,s,w,u,b,R,U))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=R),y.props=u,y.state=R,y.context=U,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,$f(t,n),w=n.memoizedProps,U=n.type===n.elementType?w:Rn(n.type,w),y.props=U,Q=n.pendingProps,b=y.context,R=s.contextType,typeof R=="object"&&R!==null?R=hn(R):(R=$t(s)?fi:kt.current,R=ps(n,R));var ee=s.getDerivedStateFromProps;(q=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||b!==R)&&gd(n,y,u,R),xr=!1,b=n.memoizedState,y.state=b,Za(n,u,y,h);var re=n.memoizedState;w!==Q||b!==re||bt.current||xr?(typeof ee=="function"&&(ac(n,s,ee,u),re=n.memoizedState),(U=xr||pd(n,s,U,u,b,re,R)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,R)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=R,u=U):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&b===t.memoizedState||(n.flags|=1024),u=!1)}return fc(t,n,s,u,p,h)}function fc(t,n,s,u,h,p){Rd(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&xf(n,s,!1),ur(t,n,p);u=n.stateNode,Iy.current=n;var w=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=_s(n,t.child,null,p),n.child=_s(n,null,w,p)):Ut(t,n,w,p),n.memoizedState=u.state,h&&xf(n,s,!0),n.child}function Pd(t){var n=t.stateNode;n.pendingContext?Vf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Vf(t,n.context,!1),Gu(t,n.containerInfo)}function kd(t,n,s,u,h){return ys(),bu(h),n.flags|=256,Ut(t,n,s,u),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vd(t,n,s){var u=n.pendingProps,h=Ge.current,p=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ge,h&1),t===null)return zu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=n.mode,p=n.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=El(y,u,0,null),t=Ti(t,u,s,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=pc(s),n.memoizedState=dc,t):mc(n,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Sy(t,n,y,u,w,h,s);if(p){p=u.fallback,y=n.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=R,n.deletions=null):(u=Br(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=Br(w,p):(p=Ti(p,y,s,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,y=t.child.memoizedState,y=y===null?pc(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~s,n.memoizedState=dc,u}return p=t.child,t=p.sibling,u=Br(p,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=s),u.return=n,u.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=u,n.memoizedState=null,u}function mc(t,n){return n=El({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function al(t,n,s,u){return u!==null&&bu(u),_s(n,t.child,null,s),t=mc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Sy(t,n,s,u,h,p,y){if(s)return n.flags&256?(n.flags&=-257,u=uc(Error(r(422))),al(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=u.fallback,h=n.mode,u=El({mode:"visible",children:u.children},h,0,null),p=Ti(p,h,y,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,(n.mode&1)!==0&&_s(n,t.child,null,y),n.child.memoizedState=pc(y),n.memoizedState=dc,p);if((n.mode&1)===0)return al(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(r(419)),u=uc(p,u,void 0),al(t,n,y,u)}if(w=(y&t.childLanes)!==0,qt||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,ar(t,h),kn(u,t,h,-1))}return Dc(),u=uc(Error(r(421))),al(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=Fy.bind(null,t),h._reactRetry=n,null):(t=p.treeContext,en=Pr(h.nextSibling),Zt=n,Qe=!0,An=null,t!==null&&(un[cn++]=sr,un[cn++]=or,un[cn++]=di,sr=t.id,or=t.overflow,di=n),n=mc(n,u.children),n.flags|=4096,n)}function Dd(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Hu(t.return,n,s)}function gc(t,n,s,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function xd(t,n,s){var u=n.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,n,u.children,s),u=Ge.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dd(t,s,n);else if(t.tag===19)Dd(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ge,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&el(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),gc(n,!1,h,s,p);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&el(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}gc(n,!0,s,null,p);break;case"together":gc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ll(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function ur(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),_i|=n.lanes,(s&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Br(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Br(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Ay(t,n,s){switch(n.tag){case 3:Pd(n),ys();break;case 5:Hf(n);break;case 1:$t(n.type)&&qa(n);break;case 4:Gu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;$e(Xa,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?($e(Ge,Ge.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Vd(t,n,s):($e(Ge,Ge.current&1),t=ur(t,n,s),t!==null?t.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(u=(s&n.childLanes)!==0,(t.flags&128)!==0){if(u)return xd(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ge,Ge.current),u)break;return null;case 22:case 23:return n.lanes=0,Ad(t,n,s)}return ur(t,n,s)}var Nd,yc,Od,Ld;Nd=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},yc=function(){},Od=function(t,n,s,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,gi(Un.current);var p=null;switch(s){case"input":h=Gr(t,h),u=Gr(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=Hs(t,h),u=Hs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=za)}Js(s,u);var y;s=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var w=h[U];for(y in w)w.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(l.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var R=u[U];if(w=h?.[U],u.hasOwnProperty(U)&&R!==w&&(R!=null||w!=null))if(U==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(s||(s={}),s[y]=R[y])}else s||(p||(p=[]),p.push(U,s)),s=R;else U==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(U,R)):U==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(U,""+R):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(l.hasOwnProperty(U)?(R!=null&&U==="onScroll"&&qe("scroll",t),p||w===R||(p=[])):(p=p||[]).push(U,R))}s&&(p=p||[]).push("style",s);var U=p;(n.updateQueue=U)&&(n.flags|=4)}},Ld=function(t,n,s,u){s!==u&&(n.flags|=4)};function No(t,n){if(!Qe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function Ry(t,n,s){var u=n.pendingProps;switch(Bu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return $t(n.type)&&$a(),Dt(n),null;case 3:return u=n.stateNode,ws(),We(bt),We(kt),Ju(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ka(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,An!==null&&(Pc(An),An=null))),yc(t,n),Dt(n),null;case 5:Xu(n);var h=gi(Po.current);if(s=n.type,t!==null&&n.stateNode!=null)Od(t,n,s,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Dt(n),null}if(t=gi(Un.current),Ka(n)){u=n.stateNode,s=n.type;var p=n.memoizedProps;switch(u[Fn]=n,u[Io]=p,t=(n.mode&1)!==0,s){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<Eo.length;h++)qe(Eo[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":Mi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":Ui(u,p),qe("invalid",u)}Js(s,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,w,t),h=["children",""+w]):l.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&qe("scroll",u)}switch(s){case"input":Qn(u),fa(u,p,!0);break;case"textarea":Qn(u),Qs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=za)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(s,{is:u.is}):(t=y.createElement(s),s==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,s),t[Fn]=n,t[Io]=u,Nd(t,n,!1,!1),n.stateNode=t;e:{switch(y=Zs(s,u),s){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Eo.length;h++)qe(Eo[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":Mi(t,u),h=Gr(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),qe("invalid",t);break;case"textarea":Ui(t,u),h=Hs(t,u),qe("invalid",t);break;default:h=u}Js(s,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Xs(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ks(t,R)):p==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&yr(t,R):typeof R=="number"&&yr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?R!=null&&p==="onScroll"&&qe("scroll",t):R!=null&&X(t,p,R,y))}switch(s){case"input":Qn(t),fa(t,u,!1);break;case"textarea":Qn(t),Qs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Gn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=za)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(t&&n.stateNode!=null)Ld(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=gi(Po.current),gi(Un.current),Ka(n)){if(u=n.stateNode,s=n.memoizedProps,u[Fn]=n,(p=u.nodeValue!==s)&&(t=Zt,t!==null))switch(t.tag){case 3:ja(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(u.nodeValue,s,(t.mode&1)!==0)}p&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Fn]=n,n.stateNode=u}return Dt(n),null;case 13:if(We(Ge),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&en!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Uf(),ys(),n.flags|=98560,p=!1;else if(p=Ka(n),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Fn]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Dt(n),p=!1}else An!==null&&(Pc(An),An=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Ge.current&1)!==0?ct===0&&(ct=3):Dc())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return ws(),yc(t,n),t===null&&wo(n.stateNode.containerInfo),Dt(n),null;case 10:return Wu(n.type._context),Dt(n),null;case 17:return $t(n.type)&&$a(),Dt(n),null;case 19:if(We(Ge),p=n.memoizedState,p===null)return Dt(n),null;if(u=(n.flags&128)!==0,y=p.rendering,y===null)if(u)No(p,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=el(t),y!==null){for(n.flags|=128,No(p,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)p=s,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return $e(Ge,Ge.current&1|2),n.child}t=t.sibling}p.tail!==null&&be()>As&&(n.flags|=128,u=!0,No(p,!1),n.lanes=4194304)}else{if(!u)if(t=el(y),t!==null){if(n.flags|=128,u=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),No(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Qe)return Dt(n),null}else 2*be()-p.renderingStartTime>As&&s!==1073741824&&(n.flags|=128,u=!0,No(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(s=p.last,s!==null?s.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=be(),n.sibling=null,s=Ge.current,$e(Ge,u?s&1|2:s&1),n):(Dt(n),null);case 22:case 23:return Vc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(tn&1073741824)!==0&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Cy(t,n){switch(Bu(n),n.tag){case 1:return $t(n.type)&&$a(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ws(),We(bt),We(kt),Ju(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Xu(n),null;case 13:if(We(Ge),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ys()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return We(Ge),null;case 4:return ws(),null;case 10:return Wu(n.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var ul=!1,xt=!1,Py=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Is(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){Je(t,n,u)}else s.current=null}function _c(t,n,s){try{s()}catch(u){Je(t,n,u)}}var Md=!1;function ky(t,n){if(Vu=Ar,t=pf(),Tu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var y=0,w=-1,R=-1,U=0,q=0,Q=t,b=null;t:for(;;){for(var ee;Q!==s||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(ee=Q.firstChild)!==null;)b=Q,Q=ee;for(;;){if(Q===t)break t;if(b===s&&++U===h&&(w=y),b===p&&++q===u&&(R=y),(ee=Q.nextSibling)!==null)break;Q=b,b=Q.parentNode}Q=ee}s=w===-1||R===-1?null:{start:w,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Du={focusedElem:t,selectionRange:s},Ar=!1,ne=n;ne!==null;)if(n=ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ne=t;else for(;ne!==null;){n=ne;try{var re=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,tt=re.memoizedState,L=n.stateNode,C=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:Rn(n.type,ie),tt);L.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Je(n,n.return,K)}if(t=n.sibling,t!==null){t.return=n.return,ne=t;break}ne=n.return}return re=Md,Md=!1,re}function Oo(t,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&_c(n,s,p)}h=h.next}while(h!==u)}}function cl(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function vc(t){var n=t.ref;if(n!==null){var s=t.stateNode;t.tag,t=s,typeof n=="function"?n(t):n.current=t}}function Fd(t){var n=t.alternate;n!==null&&(t.alternate=null,Fd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Fn],delete n[Io],delete n[Lu],delete n[hy],delete n[fy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ud(t){return t.tag===5||t.tag===3||t.tag===4}function Bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ud(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=za));else if(u!==4&&(t=t.child,t!==null))for(Ec(t,n,s),t=t.sibling;t!==null;)Ec(t,n,s),t=t.sibling}function wc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(wc(t,n,s),t=t.sibling;t!==null;)wc(t,n,s),t=t.sibling}var wt=null,Cn=!1;function Or(t,n,s){for(s=s.child;s!==null;)jd(t,n,s),s=s.sibling}function jd(t,n,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ii,s)}catch{}switch(s.tag){case 5:xt||Is(s,n);case 6:var u=wt,h=Cn;wt=null,Or(t,n,s),wt=u,Cn=h,wt!==null&&(Cn?(t=wt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):wt.removeChild(s.stateNode));break;case 18:wt!==null&&(Cn?(t=wt,s=s.stateNode,t.nodeType===8?Ou(t.parentNode,s):t.nodeType===1&&Ou(t,s),Tn(t)):Ou(wt,s.stateNode));break;case 4:u=wt,h=Cn,wt=s.stateNode.containerInfo,Cn=!0,Or(t,n,s),wt=u,Cn=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&_c(s,n,y),h=h.next}while(h!==u)}Or(t,n,s);break;case 1:if(!xt&&(Is(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(w){Je(s,n,w)}Or(t,n,s);break;case 21:Or(t,n,s);break;case 22:s.mode&1?(xt=(u=xt)||s.memoizedState!==null,Or(t,n,s),xt=u):Or(t,n,s);break;default:Or(t,n,s)}}function zd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Py),n.forEach(function(u){var h=Uy.bind(null,t,u);s.has(u)||(s.add(u),u.then(h,h))})}}function Pn(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var p=t,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,Cn=!1;break e;case 3:wt=w.stateNode.containerInfo,Cn=!0;break e;case 4:wt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(wt===null)throw Error(r(160));jd(p,y,h),wt=null,Cn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(U){Je(h,n,U)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)bd(n,t),n=n.sibling}function bd(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(n,t),jn(t),u&4){try{Oo(3,t,t.return),cl(3,t)}catch(ie){Je(t,t.return,ie)}try{Oo(5,t,t.return)}catch(ie){Je(t,t.return,ie)}}break;case 1:Pn(n,t),jn(t),u&512&&s!==null&&Is(s,s.return);break;case 5:if(Pn(n,t),jn(t),u&512&&s!==null&&Is(s,s.return),t.flags&32){var h=t.stateNode;try{yr(h,"")}catch(ie){Je(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=s!==null?s.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&qs(h,p),Zs(w,y);var U=Zs(w,p);for(y=0;y<R.length;y+=2){var q=R[y],Q=R[y+1];q==="style"?Xs(h,Q):q==="dangerouslySetInnerHTML"?Ks(h,Q):q==="children"?yr(h,Q):X(h,q,Q,U)}switch(w){case"input":Ws(h,p);break;case"textarea":Bi(h,p);break;case"select":var b=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?Gn(h,!!p.multiple,ee,!1):b!==!!p.multiple&&(p.defaultValue!=null?Gn(h,!!p.multiple,p.defaultValue,!0):Gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Io]=p}catch(ie){Je(t,t.return,ie)}}break;case 6:if(Pn(n,t),jn(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Je(t,t.return,ie)}}break;case 3:if(Pn(n,t),jn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Tn(n.containerInfo)}catch(ie){Je(t,t.return,ie)}break;case 4:Pn(n,t),jn(t);break;case 13:Pn(n,t),jn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Sc=be())),u&4&&zd(t);break;case 22:if(q=s!==null&&s.memoizedState!==null,t.mode&1?(xt=(U=xt)||q,Pn(n,t),xt=U):Pn(n,t),jn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!q&&(t.mode&1)!==0)for(ne=t,q=t.child;q!==null;){for(Q=ne=q;ne!==null;){switch(b=ne,ee=b.child,b.tag){case 0:case 11:case 14:case 15:Oo(4,b,b.return);break;case 1:Is(b,b.return);var re=b.stateNode;if(typeof re.componentWillUnmount=="function"){u=b,s=b.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){Je(u,s,ie)}}break;case 5:Is(b,b.return);break;case 22:if(b.memoizedState!==null){Wd(Q);continue}}ee!==null?(ee.return=b,ne=ee):Wd(Q)}q=q.sibling}e:for(q=null,Q=t;;){if(Q.tag===5){if(q===null){q=Q;try{h=Q.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Gs("display",y))}catch(ie){Je(t,t.return,ie)}}}else if(Q.tag===6){if(q===null)try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(ie){Je(t,t.return,ie)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;q===Q&&(q=null),Q=Q.return}q===Q&&(q=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Pn(n,t),jn(t),u&4&&zd(t);break;case 21:break;default:Pn(n,t),jn(t)}}function jn(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Ud(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(yr(h,""),u.flags&=-33);var p=Bd(t);wc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Bd(t);Ec(t,w,y);break;default:throw Error(r(161))}}catch(R){Je(t,t.return,R)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t,n,s){ne=t,$d(t)}function $d(t,n,s){for(var u=(t.mode&1)!==0;ne!==null;){var h=ne,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||ul;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||xt;w=ul;var U=xt;if(ul=y,(xt=R)&&!U)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?Hd(h):R!==null?(R.return=y,ne=R):Hd(h);for(;p!==null;)ne=p,$d(p),p=p.sibling;ne=h,ul=w,xt=U}qd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ne=p):qd(t)}}function qd(t){for(;ne!==null;){var n=ne;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:xt||cl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Rn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Wf(n,p,u);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Wf(n,y,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var U=n.alternate;if(U!==null){var q=U.memoizedState;if(q!==null){var Q=q.dehydrated;Q!==null&&Tn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&vc(n)}catch(b){Je(n,n.return,b)}}if(n===t){ne=null;break}if(s=n.sibling,s!==null){s.return=n.return,ne=s;break}ne=n.return}}function Wd(t){for(;ne!==null;){var n=ne;if(n===t){ne=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ne=s;break}ne=n.return}}function Hd(t){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{cl(4,n)}catch(R){Je(n,s,R)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(R){Je(n,h,R)}}var p=n.return;try{vc(n)}catch(R){Je(n,p,R)}break;case 5:var y=n.return;try{vc(n)}catch(R){Je(n,y,R)}}}catch(R){Je(n,n.return,R)}if(n===t){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Dy=Math.ceil,hl=pe.ReactCurrentDispatcher,Tc=pe.ReactCurrentOwner,dn=pe.ReactCurrentBatchConfig,De=0,gt=null,it=null,Tt=0,tn=0,Ss=kr(0),ct=0,Lo=null,_i=0,fl=0,Ic=0,Mo=null,Wt=null,Sc=0,As=1/0,cr=null,dl=!1,Ac=null,Lr=null,pl=!1,Mr=null,ml=0,Fo=0,Rc=null,gl=-1,yl=0;function Bt(){return(De&6)!==0?be():gl!==-1?gl:gl=be()}function Fr(t){return(t.mode&1)===0?1:(De&2)!==0&&Tt!==0?Tt&-Tt:py.transition!==null?(yl===0&&(yl=oi()),yl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t)}function kn(t,n,s,u){if(50<Fo)throw Fo=0,Rc=null,Error(r(185));wr(t,s,u),((De&2)===0||t!==gt)&&(t===gt&&((De&2)===0&&(fl|=s),ct===4&&Ur(t,Tt)),Ht(t,u),s===1&&De===0&&(n.mode&1)===0&&(As=be()+500,Wa&&Dr()))}function Ht(t,n){var s=t.callbackNode;Jn(t,n);var u=si(t,t===gt?Tt:0);if(u===0)s!==null&&so(s),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(s!=null&&so(s),n===1)t.tag===0?dy(Kd.bind(null,t)):Nf(Kd.bind(null,t)),uy(function(){(De&6)===0&&Dr()}),s=null;else{switch(Ir(u)){case 1:s=ri;break;case 4:s=_r;break;case 16:s=on;break;case 536870912:s=ya;break;default:s=on}s=np(s,Qd.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function Qd(t,n){if(gl=-1,yl=0,(De&6)!==0)throw Error(r(327));var s=t.callbackNode;if(Rs()&&t.callbackNode!==s)return null;var u=si(t,t===gt?Tt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=_l(t,u);else{n=u;var h=De;De|=2;var p=Xd();(gt!==t||Tt!==n)&&(cr=null,As=be()+500,Ei(t,n));do try{Oy();break}catch(w){Gd(t,w)}while(!0);qu(),hl.current=p,De=h,it!==null?n=0:(gt=null,Tt=0,n=ct)}if(n!==0){if(n===2&&(h=Xt(t),h!==0&&(u=h,n=Cc(t,h))),n===1)throw s=Lo,Ei(t,0),Ur(t,u),Ht(t,be()),s;if(n===6)Ur(t,u);else{if(h=t.current.alternate,(u&30)===0&&!xy(h)&&(n=_l(t,u),n===2&&(p=Xt(t),p!==0&&(u=p,n=Cc(t,p))),n===1))throw s=Lo,Ei(t,0),Ur(t,u),Ht(t,be()),s;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:wi(t,Wt,cr);break;case 3:if(Ur(t,u),(u&130023424)===u&&(n=Sc+500-be(),10<n)){if(si(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Nu(wi.bind(null,t,Wt,cr),n);break}wi(t,Wt,cr);break;case 4:if(Ur(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Mt(u);p=1<<y,y=n[y],y>h&&(h=y),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Dy(u/1960))-u,10<u){t.timeoutHandle=Nu(wi.bind(null,t,Wt,cr),u);break}wi(t,Wt,cr);break;case 5:wi(t,Wt,cr);break;default:throw Error(r(329))}}}return Ht(t,be()),t.callbackNode===s?Qd.bind(null,t):null}function Cc(t,n){var s=Mo;return t.current.memoizedState.isDehydrated&&(Ei(t,n).flags|=256),t=_l(t,n),t!==2&&(n=Wt,Wt=s,n!==null&&Pc(n)),t}function Pc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function xy(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ur(t,n){for(n&=~Ic,n&=~fl,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Mt(n),u=1<<s;t[s]=-1,n&=~u}}function Kd(t){if((De&6)!==0)throw Error(r(327));Rs();var n=si(t,0);if((n&1)===0)return Ht(t,be()),null;var s=_l(t,n);if(t.tag!==0&&s===2){var u=Xt(t);u!==0&&(n=u,s=Cc(t,u))}if(s===1)throw s=Lo,Ei(t,0),Ur(t,n),Ht(t,be()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,wi(t,Wt,cr),Ht(t,be()),null}function kc(t,n){var s=De;De|=1;try{return t(n)}finally{De=s,De===0&&(As=be()+500,Wa&&Dr())}}function vi(t){Mr!==null&&Mr.tag===0&&(De&6)===0&&Rs();var n=De;De|=1;var s=dn.transition,u=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=u,dn.transition=s,De=n,(De&6)===0&&Dr()}}function Vc(){tn=Ss.current,We(Ss)}function Ei(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,ly(s)),it!==null)for(s=it.return;s!==null;){var u=s;switch(Bu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&$a();break;case 3:ws(),We(bt),We(kt),Ju();break;case 5:Xu(u);break;case 4:ws();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Wu(u.type._context);break;case 22:case 23:Vc()}s=s.return}if(gt=t,it=t=Br(t.current,null),Tt=tn=n,ct=0,Lo=null,Ic=fl=_i=0,Wt=Mo=null,mi!==null){for(n=0;n<mi.length;n++)if(s=mi[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,p=s.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}s.pending=u}mi=null}return t}function Gd(t,n){do{var s=it;try{if(qu(),tl.current=sl,nl){for(var u=Xe.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}nl=!1}if(yi=0,mt=ut=Xe=null,ko=!1,Vo=0,Tc.current=null,s===null||s.return===null){ct=1,Lo=n,it=null;break}e:{var p=t,y=s.return,w=s,R=n;if(n=Tt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var U=R,q=w,Q=q.tag;if((q.mode&1)===0&&(Q===0||Q===11||Q===15)){var b=q.alternate;b?(q.updateQueue=b.updateQueue,q.memoizedState=b.memoizedState,q.lanes=b.lanes):(q.updateQueue=null,q.memoizedState=null)}var ee=Ed(y);if(ee!==null){ee.flags&=-257,wd(ee,y,w,p,n),ee.mode&1&&vd(p,U,n),n=ee,R=U;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(R),n.updateQueue=ie}else re.add(R);break e}else{if((n&1)===0){vd(p,U,n),Dc();break e}R=Error(r(426))}}else if(Qe&&w.mode&1){var tt=Ed(y);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),wd(tt,y,w,p,n),bu(Ts(R,w));break e}}p=R=Ts(R,w),ct!==4&&(ct=2),Mo===null?Mo=[p]:Mo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var L=yd(p,R,n);qf(p,L);break e;case 1:w=R;var C=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Lr===null||!Lr.has(F)))){p.flags|=65536,n&=-n,p.lanes|=n;var K=_d(p,w,n);qf(p,K);break e}}p=p.return}while(p!==null)}Jd(s)}catch(oe){n=oe,it===s&&s!==null&&(it=s=s.return);continue}break}while(!0)}function Xd(){var t=hl.current;return hl.current=sl,t===null?sl:t}function Dc(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||(_i&268435455)===0&&(fl&268435455)===0||Ur(gt,Tt)}function _l(t,n){var s=De;De|=2;var u=Xd();(gt!==t||Tt!==n)&&(cr=null,Ei(t,n));do try{Ny();break}catch(h){Gd(t,h)}while(!0);if(qu(),De=s,hl.current=u,it!==null)throw Error(r(261));return gt=null,Tt=0,ct}function Ny(){for(;it!==null;)Yd(it)}function Oy(){for(;it!==null&&!ma();)Yd(it)}function Yd(t){var n=tp(t.alternate,t,tn);t.memoizedProps=t.pendingProps,n===null?Jd(t):it=n,Tc.current=null}function Jd(t){var n=t;do{var s=n.alternate;if(t=n.return,(n.flags&32768)===0){if(s=Ry(s,n,tn),s!==null){it=s;return}}else{if(s=Cy(s,n),s!==null){s.flags&=32767,it=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,it=null;return}}if(n=n.sibling,n!==null){it=n;return}it=n=t}while(n!==null);ct===0&&(ct=5)}function wi(t,n,s){var u=Ce,h=dn.transition;try{dn.transition=null,Ce=1,Ly(t,n,s,u)}finally{dn.transition=h,Ce=u}return null}function Ly(t,n,s,u){do Rs();while(Mr!==null);if((De&6)!==0)throw Error(r(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var p=s.lanes|s.childLanes;if(je(t,p),t===gt&&(it=gt=null,Tt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||pl||(pl=!0,np(on,function(){return Rs(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=dn.transition,dn.transition=null;var y=Ce;Ce=1;var w=De;De|=4,Tc.current=null,ky(t,s),bd(s,t),ty(Du),Ar=!!Vu,Du=Vu=null,t.current=s,Vy(s),pu(),De=w,Ce=y,dn.transition=p}else t.current=s;if(pl&&(pl=!1,Mr=t,ml=h),p=t.pendingLanes,p===0&&(Lr=null),_a(s.stateNode),Ht(t,be()),n!==null)for(u=t.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(dl)throw dl=!1,t=Ac,Ac=null,t;return(ml&1)!==0&&t.tag!==0&&Rs(),p=t.pendingLanes,(p&1)!==0?t===Rc?Fo++:(Fo=0,Rc=t):Fo=0,Dr(),null}function Rs(){if(Mr!==null){var t=Ir(ml),n=dn.transition,s=Ce;try{if(dn.transition=null,Ce=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,ml=0,(De&6)!==0)throw Error(r(331));var h=De;for(De|=4,ne=t.current;ne!==null;){var p=ne,y=p.child;if((ne.flags&16)!==0){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var U=w[R];for(ne=U;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Oo(8,q,p)}var Q=q.child;if(Q!==null)Q.return=q,ne=Q;else for(;ne!==null;){q=ne;var b=q.sibling,ee=q.return;if(Fd(q),q===U){ne=null;break}if(b!==null){b.return=ee,ne=b;break}ne=ee}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var tt=ie.sibling;ie.sibling=null,ie=tt}while(ie!==null)}}ne=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,ne=y;else e:for(;ne!==null;){if(p=ne,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Oo(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ne=L;break e}ne=p.return}}var C=t.current;for(ne=C;ne!==null;){y=ne;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,ne=F;else e:for(y=C;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:cl(9,w)}}catch(oe){Je(w,w.return,oe)}if(w===y){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(De=h,Dr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ii,t)}catch{}u=!0}return u}finally{Ce=s,dn.transition=n}}return!1}function Zd(t,n,s){n=Ts(s,n),n=yd(t,n,1),t=Nr(t,n,1),n=Bt(),t!==null&&(wr(t,1,n),Ht(t,n))}function Je(t,n,s){if(t.tag===3)Zd(t,t,s);else for(;n!==null;){if(n.tag===3){Zd(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Ts(s,t),t=_d(n,t,1),n=Nr(n,t,1),t=Bt(),n!==null&&(wr(n,1,t),Ht(n,t));break}}n=n.return}}function My(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),n=Bt(),t.pingedLanes|=t.suspendedLanes&s,gt===t&&(Tt&s)===s&&(ct===4||ct===3&&(Tt&130023424)===Tt&&500>be()-Sc?Ei(t,0):Ic|=s),Ht(t,n)}function ep(t,n){n===0&&((t.mode&1)===0?n=1:(n=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var s=Bt();t=ar(t,n),t!==null&&(wr(t,n,s),Ht(t,s))}function Fy(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),ep(t,s)}function Uy(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),ep(t,s)}var tp;tp=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||bt.current)qt=!0;else{if((t.lanes&s)===0&&(n.flags&128)===0)return qt=!1,Ay(t,n,s);qt=(t.flags&131072)!==0}else qt=!1,Qe&&(n.flags&1048576)!==0&&Of(n,Qa,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ll(t,n),t=n.pendingProps;var h=ps(n,kt.current);Es(n,s),h=tc(null,n,u,t,h,s);var p=nc();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(u)?(p=!0,qa(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ku(n),h.updater=ol,n.stateNode=h,h._reactInternals=n,lc(n,u,t,s),n=fc(null,n,u,!0,p,s)):(n.tag=0,Qe&&p&&Uu(n),Ut(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(ll(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=jy(u),t=Rn(u,t),h){case 0:n=hc(null,n,u,t,s);break e;case 1:n=Cd(null,n,u,t,s);break e;case 11:n=Td(null,n,u,t,s);break e;case 14:n=Id(null,n,u,Rn(u.type,t),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),hc(t,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Cd(t,n,u,h,s);case 3:e:{if(Pd(n),t===null)throw Error(r(387));u=n.pendingProps,p=n.memoizedState,h=p.element,$f(t,n),Za(n,u,null,s);var y=n.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=Ts(Error(r(423)),n),n=kd(t,n,u,s,h);break e}else if(u!==h){h=Ts(Error(r(424)),n),n=kd(t,n,u,s,h);break e}else for(en=Pr(n.stateNode.containerInfo.firstChild),Zt=n,Qe=!0,An=null,s=zf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ys(),u===h){n=ur(t,n,s);break e}Ut(t,n,u,s)}n=n.child}return n;case 5:return Hf(n),t===null&&zu(n),u=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,xu(u,h)?y=null:p!==null&&xu(u,p)&&(n.flags|=32),Rd(t,n),Ut(t,n,y,s),n.child;case 6:return t===null&&zu(n),null;case 13:return Vd(t,n,s);case 4:return Gu(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=_s(n,null,u,s):Ut(t,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),Td(t,n,u,h,s);case 7:return Ut(t,n,n.pendingProps,s),n.child;case 8:return Ut(t,n,n.pendingProps.children,s),n.child;case 12:return Ut(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,p=n.memoizedProps,y=h.value,$e(Xa,u._currentValue),u._currentValue=y,p!==null)if(Sn(p.value,y)){if(p.children===h.children&&!bt.current){n=ur(t,n,s);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=lr(-1,s&-s),R.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var q=U.pending;q===null?R.next=R:(R.next=q.next,q.next=R),U.pending=R}}p.lanes|=s,R=p.alternate,R!==null&&(R.lanes|=s),Hu(p.return,s,n),w.lanes|=s;break}R=R.next}}else if(p.tag===10)y=p.type===n.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(r(341));y.lanes|=s,w=y.alternate,w!==null&&(w.lanes|=s),Hu(y,s,n),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===n){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Ut(t,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,Es(n,s),h=hn(h),u=u(h),n.flags|=1,Ut(t,n,u,s),n.child;case 14:return u=n.type,h=Rn(u,n.pendingProps),h=Rn(u.type,h),Id(t,n,u,h,s);case 15:return Sd(t,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Rn(u,h),ll(t,n),n.tag=1,$t(u)?(t=!0,qa(n)):t=!1,Es(n,s),md(n,u,h),lc(n,u,h,s),fc(null,n,u,!0,t,s);case 19:return xd(t,n,s);case 22:return Ad(t,n,s)}throw Error(r(156,n.tag))};function np(t,n){return Qi(t,n)}function By(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,u){return new By(t,n,s,u)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jy(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===Ct)return 14}return 2}function Br(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function vl(t,n,s,u,h,p){var y=2;if(u=t,typeof t=="function")xc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Ti(s.children,h,p,n);case T:y=8,h|=8;break;case A:return t=pn(12,s,n,h|2),t.elementType=A,t.lanes=p,t;case S:return t=pn(13,s,n,h),t.elementType=S,t.lanes=p,t;case Ze:return t=pn(19,s,n,h),t.elementType=Ze,t.lanes=p,t;case Be:return El(s,h,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:y=10;break e;case V:y=9;break e;case N:y=11;break e;case Ct:y=14;break e;case Pt:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=pn(y,s,n,h),n.elementType=t,n.type=u,n.lanes=p,n}function Ti(t,n,s,u){return t=pn(7,t,u,n),t.lanes=s,t}function El(t,n,s,u){return t=pn(22,t,u,n),t.elementType=Be,t.lanes=s,t.stateNode={isHidden:!1},t}function Nc(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function Oc(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function zy(t,n,s,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Er(0),this.expirationTimes=Er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Lc(t,n,s,u,h,p,y,w,R){return t=new zy(t,n,s,w,R),n===1?(n=1,p===!0&&(n|=8)):n=0,p=pn(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(p),t}function by(t,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ye,key:u==null?null:""+u,children:t,containerInfo:n,implementation:s}}function rp(t){if(!t)return Vr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if($t(s))return Df(t,s,n)}return n}function ip(t,n,s,u,h,p,y,w,R){return t=Lc(s,u,!0,t,h,p,y,w,R),t.context=rp(null),s=t.current,u=Bt(),h=Fr(s),p=lr(u,h),p.callback=n??null,Nr(s,p,h),t.current.lanes=h,wr(t,h,u),Ht(t,u),t}function wl(t,n,s,u){var h=n.current,p=Bt(),y=Fr(h);return s=rp(s),n.context===null?n.context=s:n.pendingContext=s,n=lr(p,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Nr(h,n,y),t!==null&&(kn(t,h,y,p),Ja(t,h,y)),y}function Tl(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function sp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Mc(t,n){sp(t,n),(t=t.alternate)&&sp(t,n)}function $y(){return null}var op=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fc(t){this._internalRoot=t}Il.prototype.render=Fc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));wl(t,n,null,null)},Il.prototype.unmount=Fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vi(function(){wl(null,t,null,null)}),n[rr]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ia();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Nn.length&&n!==0&&n<Nn[s].priority;s++);Nn.splice(s,0,t),s===0&&Ra(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function qy(t,n,s,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=Tl(y);p.call(U)}}var y=ip(n,u,t,0,null,!1,!1,"",ap);return t._reactRootContainer=y,t[rr]=y.current,wo(t.nodeType===8?t.parentNode:t),vi(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var U=Tl(R);w.call(U)}}var R=Lc(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=R,t[rr]=R.current,wo(t.nodeType===8?t.parentNode:t),vi(function(){wl(n,R,s,u)}),R}function Al(t,n,s,u,h){var p=s._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=Tl(y);w.call(R)}}wl(n,y,t,h)}else y=qy(s,n,t,h,u);return Tl(y)}wa=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=vr(n.pendingLanes);s!==0&&(Tr(n,s|1),Ht(n,be()),(De&6)===0&&(As=be()+500,Dr()))}break;case 13:vi(function(){var u=ar(t,1);if(u!==null){var h=Bt();kn(u,t,1,h)}}),Mc(t,1)}},Xi=function(t){if(t.tag===13){var n=ar(t,134217728);if(n!==null){var s=Bt();kn(n,t,134217728,s)}Mc(t,134217728)}},Ta=function(t){if(t.tag===13){var n=Fr(t),s=ar(t,n);if(s!==null){var u=Bt();kn(s,t,n,u)}Mc(t,n)}},Ia=function(){return Ce},Sa=function(t,n){var s=Ce;try{return Ce=t,n()}finally{Ce=s}},zi=function(t,n,s){switch(n){case"input":if(Ws(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var h=ba(u);if(!h)throw Error(r(90));Li(u),Ws(u,h)}}}break;case"textarea":Bi(t,s);break;case"select":n=s.value,n!=null&&Gn(t,!!s.multiple,n,!1)}},Zr=kc,to=vi;var Wy={usingClientEntryPoint:!1,Events:[So,fs,ba,Dn,eo,kc]},Uo={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=io(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{ii=Rl.inject(Hy),Gt=Rl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy,Qt.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(n))throw Error(r(200));return by(t,n,null,s)},Qt.createRoot=function(t,n){if(!Uc(t))throw Error(r(299));var s=!1,u="",h=op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Lc(t,1,!1,null,null,s,!1,u,h),t[rr]=n.current,wo(t.nodeType===8?t.parentNode:t),new Fc(n)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=io(n),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return vi(t)},Qt.hydrate=function(t,n,s){if(!Sl(n))throw Error(r(200));return Al(null,t,n,!0,s)},Qt.hydrateRoot=function(t,n,s){if(!Uc(t))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,p="",y=op;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=ip(n,null,t,1,s??null,h,!1,p,y),t[rr]=n.current,wo(t),u)for(t=0;t<u.length;t++)s=u[t],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new Il(n)},Qt.render=function(t,n,s){if(!Sl(n))throw Error(r(200));return Al(null,t,n,!1,s)},Qt.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(r(40));return t._reactRootContainer?(vi(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1},Qt.unstable_batchedUpdates=kc,Qt.unstable_renderSubtreeIntoContainer=function(t,n,s,u){if(!Sl(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Al(t,n,s,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var mp;function t_(){if(mp)return zc.exports;mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zc.exports=e_(),zc.exports}var gp;function n_(){if(gp)return Cl;gp=1;var i=t_();return Cl.createRoot=i.createRoot,Cl.hydrateRoot=i.hydrateRoot,Cl}var r_=n_();const i_=mm(r_),s_="/assets/fondo-CQtVcBBa.jpg";var yp={};const gm=function(i){const e=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},o_=function(i){const e=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],f=i[r++],g=i[r++],_=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[o++]=String.fromCharCode(55296+(_>>10)),e[o++]=String.fromCharCode(56320+(_&1023))}else{const c=i[r++],f=i[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ym={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const c=i[l],f=l+1<i.length,g=f?i[l+1]:0,_=l+2<i.length,E=_?i[l+2]:0,I=c>>2,D=(c&3)<<4|g>>4;let M=(g&15)<<2|E>>6,j=E&63;_||(j=64,f||(M=64)),o.push(r[I],r[D],r[M],r[j])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):o_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],g=l<i.length?r[i.charAt(l)]:0;++l;const E=l<i.length?r[i.charAt(l)]:64;++l;const D=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||g==null||E==null||D==null)throw new a_;const M=c<<2|g>>4;if(o.push(M),E!==64){const j=g<<4&240|E>>2;if(o.push(j),D!==64){const G=E<<6&192|D;o.push(G)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class a_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l_=function(i){const e=gm(i);return ym.encodeByteArray(e,!0)},jl=function(i){return l_(i).replace(/\./g,"")},u_=function(i){try{return ym.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h_=()=>c_().__FIREBASE_DEFAULTS__,f_=()=>{if(typeof process>"u"||typeof yp>"u")return;const i=yp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},d_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&u_(i[1]);return e&&JSON.parse(e)},Ih=()=>{try{return h_()||f_()||d_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},p_=i=>{var e,r;return(r=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},m_=i=>{const e=p_(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},_m=()=>{var i;return(i=Ih())===null||i===void 0?void 0:i.config};class g_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}function y_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jl(JSON.stringify(r)),jl(JSON.stringify(f)),""].join(".")}function __(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v_(){var i;const e=(i=Ih())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E_(){return!v_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w_(){try{return typeof indexedDB=="object"}catch{return!1}}function T_(){return new Promise((i,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}const I_="FirebaseError";class js extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=I_,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?S_(c,o):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new js(l,g,o)}}function S_(i,e){return i.replace(A_,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const A_=/\{\$([^}]+)}/g;function th(i,e){if(i===e)return!0;const r=Object.keys(i),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=i[l],f=e[l];if(_p(c)&&_p(f)){if(!th(c,f))return!1}else if(c!==f)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function _p(i){return i!==null&&typeof i=="object"}function fr(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ai="[DEFAULT]";class R_{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new g_;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e?.identifier),l=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P_(e))try{this.getOrInitializeService({instanceIdentifier:Ai})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=Ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ai){return this.instances.has(e)}getOptions(e=Ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&f.resolve(l)}return l}onInit(e,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:C_(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Ai){return this.component?this.component.multipleInstances?e:Ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C_(i){return i===Ai?void 0:i}function P_(i){return i.instantiationMode==="EAGER"}class k_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new R_(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const V_={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},D_=xe.INFO,x_={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},N_=(i,e,...r)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=x_[e];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=D_,this._logHandler=N_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const O_=(i,e)=>e.some(r=>i instanceof r);let vp,Ep;function L_(){return vp||(vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M_(){return Ep||(Ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wm=new WeakMap,nh=new WeakMap,Tm=new WeakMap,qc=new WeakMap,Sh=new WeakMap;function F_(i){const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(br(i.result)),l()},f=()=>{o(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&wm.set(r,i)}).catch(()=>{}),Sh.set(e,i),e}function U_(i){if(nh.has(i))return;const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),l()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});nh.set(i,e)}let rh={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return nh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Tm.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return br(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function B_(i){rh=i(rh)}function j_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=i.call(Wc(this),e,...r);return Tm.set(o,e.sort?e.sort():[e]),br(o)}:M_().includes(i)?function(...e){return i.apply(Wc(this),e),br(wm.get(this))}:function(...e){return br(i.apply(Wc(this),e))}}function z_(i){return typeof i=="function"?j_(i):(i instanceof IDBTransaction&&U_(i),O_(i,L_())?new Proxy(i,rh):i)}function br(i){if(i instanceof IDBRequest)return F_(i);if(qc.has(i))return qc.get(i);const e=z_(i);return e!==i&&(qc.set(i,e),Sh.set(e,i)),e}const Wc=i=>Sh.get(i);function b_(i,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const f=indexedDB.open(i,e),g=br(f);return o&&f.addEventListener("upgradeneeded",_=>{o(br(f.result),_.oldVersion,_.newVersion,br(f.transaction),_)}),r&&f.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const $_=["get","getKey","getAll","getAllKeys","count"],q_=["put","add","delete","clear"],Hc=new Map;function wp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=q_.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||$_.includes(r)))return;const c=async function(f,...g){const _=this.transaction(f,l?"readwrite":"readonly");let E=_.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),l&&_.done]))[0]};return Hc.set(e,c),c}B_(i=>({...i,get:(e,r,o)=>wp(e,r)||i.get(e,r,o),has:(e,r)=>!!wp(e,r)||i.has(e,r)}));class W_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(H_(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function H_(i){const e=i.getComponent();return e?.type==="VERSION"}const ih="@firebase/app",Tp="0.10.13";const dr=new Em("@firebase/app"),Q_="@firebase/app-compat",K_="@firebase/analytics-compat",G_="@firebase/analytics",X_="@firebase/app-check-compat",Y_="@firebase/app-check",J_="@firebase/auth",Z_="@firebase/auth-compat",ev="@firebase/database",tv="@firebase/data-connect",nv="@firebase/database-compat",rv="@firebase/functions",iv="@firebase/functions-compat",sv="@firebase/installations",ov="@firebase/installations-compat",av="@firebase/messaging",lv="@firebase/messaging-compat",uv="@firebase/performance",cv="@firebase/performance-compat",hv="@firebase/remote-config",fv="@firebase/remote-config-compat",dv="@firebase/storage",pv="@firebase/storage-compat",mv="@firebase/firestore",gv="@firebase/vertexai-preview",yv="@firebase/firestore-compat",_v="firebase",vv="10.14.1";const sh="[DEFAULT]",Ev={[ih]:"fire-core",[Q_]:"fire-core-compat",[G_]:"fire-analytics",[K_]:"fire-analytics-compat",[Y_]:"fire-app-check",[X_]:"fire-app-check-compat",[J_]:"fire-auth",[Z_]:"fire-auth-compat",[ev]:"fire-rtdb",[tv]:"fire-data-connect",[nv]:"fire-rtdb-compat",[rv]:"fire-fn",[iv]:"fire-fn-compat",[sv]:"fire-iid",[ov]:"fire-iid-compat",[av]:"fire-fcm",[lv]:"fire-fcm-compat",[uv]:"fire-perf",[cv]:"fire-perf-compat",[hv]:"fire-rc",[fv]:"fire-rc-compat",[dv]:"fire-gcs",[pv]:"fire-gcs-compat",[mv]:"fire-fst",[yv]:"fire-fst-compat",[gv]:"fire-vertex","fire-js":"fire-js",[_v]:"fire-js-all"};const zl=new Map,wv=new Map,oh=new Map;function Ip(i,e){try{i.container.addComponent(e)}catch(r){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function bl(i){const e=i.name;if(oh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,i);for(const r of zl.values())Ip(r,i);for(const r of wv.values())Ip(r,i);return!0}function Tv(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}const Iv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new vm("app","Firebase",Iv);class Sv{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Av=vv;function Im(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:sh,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw $r.create("bad-app-name",{appName:String(l)});if(r||(r=_m()),!r)throw $r.create("no-options");const c=zl.get(l);if(c){if(th(r,c.options)&&th(o,c.config))return c;throw $r.create("duplicate-app",{appName:l})}const f=new k_(l);for(const _ of oh.values())f.addComponent(_);const g=new Sv(r,o,f);return zl.set(l,g),g}function Rv(i=sh){const e=zl.get(i);if(!e&&i===sh&&_m())return Im();if(!e)throw $r.create("no-app",{appName:i});return e}function Ds(i,e,r){var o;let l=(o=Ev[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(g.join(" "));return}bl(new Yo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}const Cv="firebase-heartbeat-database",Pv=1,Jo="firebase-heartbeat-store";let Qc=null;function Sm(){return Qc||(Qc=b_(Cv,Pv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jo)}catch(r){console.warn(r)}}}}).catch(i=>{throw $r.create("idb-open",{originalErrorMessage:i.message})})),Qc}async function kv(i){try{const r=(await Sm()).transaction(Jo),o=await r.objectStore(Jo).get(Am(i));return await r.done,o}catch(e){if(e instanceof js)dr.warn(e.message);else{const r=$r.create("idb-get",{originalErrorMessage:e?.message});dr.warn(r.message)}}}async function Sp(i,e){try{const o=(await Sm()).transaction(Jo,"readwrite");await o.objectStore(Jo).put(e,Am(i)),await o.done}catch(r){if(r instanceof js)dr.warn(r.message);else{const o=$r.create("idb-set",{originalErrorMessage:r?.message});dr.warn(o.message)}}}function Am(i){return`${i.name}!${i.options.appId}`}const Vv=1024,Dv=720*60*60*1e3;class xv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ov(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ap();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const g=new Date(f.date).valueOf();return Date.now()-g<=Dv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){dr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ap(),{heartbeatsToSend:o,unsentEntries:l}=Nv(this._heartbeatsCache.heartbeats),c=jl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return dr.warn(r),""}}}function Ap(){return new Date().toISOString().substring(0,10)}function Nv(i,e=Vv){const r=[];let o=i.slice();for(const l of i){const c=r.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),Rp(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Rp(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Ov{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w_()?T_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await kv(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Sp(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Rp(i){return jl(JSON.stringify({version:2,heartbeats:i})).length}function Lv(i){bl(new Yo("platform-logger",e=>new W_(e),"PRIVATE")),bl(new Yo("heartbeat",e=>new xv(e),"PRIVATE")),Ds(ih,Tp,i),Ds(ih,Tp,"esm2017"),Ds("fire-js","")}Lv("");var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ci,Rm;(function(){var i;function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(P,V,N){for(var S=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)S[Ze-2]=arguments[Ze];return T.prototype[V].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,T,A){A||(A=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)P[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],V=k.g[2];var N=k.g[3],S=T+(N^A&(V^N))+P[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=N+(V^T&(A^V))+P[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(A^N&(T^A))+P[2]+606105819&4294967295,V=N+(S<<17&4294967295|S>>>15),S=A+(T^V&(N^T))+P[3]+3250441966&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(N^A&(V^N))+P[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(V^T&(A^V))+P[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(A^N&(T^A))+P[6]+2821735955&4294967295,V=N+(S<<17&4294967295|S>>>15),S=A+(T^V&(N^T))+P[7]+4249261313&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(N^A&(V^N))+P[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(V^T&(A^V))+P[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(A^N&(T^A))+P[10]+4294925233&4294967295,V=N+(S<<17&4294967295|S>>>15),S=A+(T^V&(N^T))+P[11]+2304563134&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(N^A&(V^N))+P[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=N+(V^T&(A^V))+P[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=V+(A^N&(T^A))+P[14]+2792965006&4294967295,V=N+(S<<17&4294967295|S>>>15),S=A+(T^V&(N^T))+P[15]+1236535329&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(V^N&(A^V))+P[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^V&(T^A))+P[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(N^T))+P[11]+643717713&4294967295,V=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(V^N))+P[0]+3921069994&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(A^V))+P[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^V&(T^A))+P[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(N^T))+P[15]+3634488961&4294967295,V=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(V^N))+P[4]+3889429448&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(A^V))+P[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^V&(T^A))+P[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(N^T))+P[3]+4107603335&4294967295,V=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(V^N))+P[8]+1163531501&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^N&(A^V))+P[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=N+(A^V&(T^A))+P[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(N^T))+P[7]+1735328473&4294967295,V=N+(S<<14&4294967295|S>>>18),S=A+(N^T&(V^N))+P[12]+2368359562&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(A^V^N)+P[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^V)+P[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^A)+P[11]+1839030562&4294967295,V=N+(S<<16&4294967295|S>>>16),S=A+(V^N^T)+P[14]+4259657740&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^N)+P[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^V)+P[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^A)+P[7]+4139469664&4294967295,V=N+(S<<16&4294967295|S>>>16),S=A+(V^N^T)+P[10]+3200236656&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^N)+P[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^V)+P[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^A)+P[3]+3572445317&4294967295,V=N+(S<<16&4294967295|S>>>16),S=A+(V^N^T)+P[6]+76029189&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^N)+P[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=N+(T^A^V)+P[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=V+(N^T^A)+P[15]+530742520&4294967295,V=N+(S<<16&4294967295|S>>>16),S=A+(V^N^T)+P[2]+3299628645&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(V^(A|~N))+P[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~V))+P[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~A))+P[14]+2878612391&4294967295,V=N+(S<<15&4294967295|S>>>17),S=A+(N^(V|~T))+P[5]+4237533241&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~N))+P[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~V))+P[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~A))+P[10]+4293915773&4294967295,V=N+(S<<15&4294967295|S>>>17),S=A+(N^(V|~T))+P[1]+2240044497&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~N))+P[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~V))+P[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~A))+P[6]+2734768916&4294967295,V=N+(S<<15&4294967295|S>>>17),S=A+(N^(V|~T))+P[13]+1309151649&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~N))+P[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=N+(A^(T|~V))+P[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=V+(T^(N|~A))+P[2]+718787259&4294967295,V=N+(S<<15&4294967295|S>>>17),S=A+(N^(V|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+N&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,P=this.B,V=this.h,N=0;N<T;){if(V==0)for(;N<=A;)l(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<T;)if(P[V++]=k.charCodeAt(N++),V==this.blockSize){l(this,P),V=0;break}}else for(;N<T;)if(P[V++]=k[N++],V==this.blockSize){l(this,P),V=0;break}}this.h=V,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var P=0;32>P;P+=8)k[A++]=this.g[T]>>>P&255;return k};function c(k,T){var A=g;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],P=!0,V=k.length-1;0<=V;V--){var N=k[V]|0;P&&N==T||(A[V]=N,P=!1)}this.g=A}var g={};function _(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return D;if(0>k)return $(E(-k));for(var T=[],A=1,P=0;k>=A;P++)T[P]=k/A|0,A*=4294967296;return new f(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return $(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=E(Math.pow(T,8)),P=D,V=0;V<k.length;V+=8){var N=Math.min(8,k.length-V),S=parseInt(k.substring(V,V+N),T);8>N?(N=E(Math.pow(T,N)),P=P.j(N).add(E(S))):(P=P.j(A),P=P.add(E(S)))}return P}var D=_(0),M=_(1),j=_(16777216);i=f.prototype,i.m=function(){if(Y(this))return-$(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var P=this.i(A);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(Y(this))return"-"+$(this).toString(k);for(var T=E(Math.pow(k,6)),A=this,P="";;){var V=pe(A,T).g;A=Ee(A,V.j(T));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=V,G(A))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Y(k){return k.h==-1}i.l=function(k){return k=Ee(this,k),Y(k)?-1:G(k)?0:1};function $(k){for(var T=k.g.length,A=[],P=0;P<T;P++)A[P]=~k.g[P];return new f(A,~k.h).add(M)}i.abs=function(){return Y(this)?$(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0,V=0;V<=T;V++){var N=P+(this.i(V)&65535)+(k.i(V)&65535),S=(N>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=S>>>16,N&=65535,S&=65535,A[V]=S<<16|N}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Ee(k,T){return k.add($(T))}i.j=function(k){if(G(this)||G(k))return D;if(Y(this))return Y(k)?$(this).j($(k)):$($(this).j(k));if(Y(k))return $(this.j($(k)));if(0>this.l(j)&&0>k.l(j))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],P=0;P<2*T;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var N=this.i(P)>>>16,S=this.i(P)&65535,Ze=k.i(V)>>>16,Ct=k.i(V)&65535;A[2*P+2*V]+=S*Ct,we(A,2*P+2*V),A[2*P+2*V+1]+=N*Ct,we(A,2*P+2*V+1),A[2*P+2*V+1]+=S*Ze,we(A,2*P+2*V+1),A[2*P+2*V+2]+=N*Ze,we(A,2*P+2*V+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new f(A,0)};function we(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function X(k,T){this.g=k,this.h=T}function pe(k,T){if(G(T))throw Error("division by zero");if(G(k))return new X(D,D);if(Y(k))return T=pe($(k),T),new X($(T.g),$(T.h));if(Y(T))return T=pe(k,$(T)),new X($(T.g),T.h);if(30<k.g.length){if(Y(k)||Y(T))throw Error("slowDivide_ only works with positive integers.");for(var A=M,P=T;0>=P.l(k);)A=Te(A),P=Te(P);var V=ye(A,1),N=ye(P,1);for(P=ye(P,2),A=ye(A,2);!G(P);){var S=N.add(P);0>=S.l(k)&&(V=V.add(A),N=S),P=ye(P,1),A=ye(A,1)}return T=Ee(k,V.j(T)),new X(V,T)}for(V=D;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=E(A),S=N.j(T);Y(S)||0<S.l(k);)A-=P,N=E(A),S=N.j(T);G(N)&&(N=M),V=V.add(N),k=Ee(k,S)}return new X(V,k)}i.A=function(k){return pe(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)&k.i(P);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)|k.i(P);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],P=0;P<T;P++)A[P]=this.i(P)^k.i(P);return new f(A,this.h^k.h)};function Te(k){for(var T=k.g.length+1,A=[],P=0;P<T;P++)A[P]=k.i(P)<<1|k.i(P-1)>>>31;return new f(A,k.h)}function ye(k,T){var A=T>>5;T%=32;for(var P=k.g.length-A,V=[],N=0;N<P;N++)V[N]=0<T?k.i(N+A)>>>T|k.i(N+A+1)<<32-T:k.i(N+A);return new f(V,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Rm=o,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=E,f.fromString=I,Ci=f}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cm,$o,Pm,Ol,ah,km,Vm,Dm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,d){if(d)e:{var m=o;a=a.split(".");for(var v=0;v<a.length-1;v++){var O=a[v];if(!(O in m))break e;m=m[O]}a=a[a.length-1],v=m[a],d=d(v),d!=v&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function c(a,d){a instanceof String&&(a+="");var m=0,v=!1,O={next:function(){if(!v&&m<a.length){var B=m++;return{value:d(B,a[B]),done:!1}}return v=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}l("Array.prototype.values",function(a){return a||function(){return c(this,function(d,m){return m})}});var f=f||{},g=this||self;function _(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function E(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function I(a,d,m){return a.call.apply(a.bind,arguments)}function D(a,d,m){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,v),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function M(a,d,m){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:D,M.apply(null,arguments)}function j(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function G(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(v,O,B){for(var J=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)J[Fe-2]=arguments[Fe];return d.prototype[O].apply(v,J)}}function Y(a){const d=a.length;if(0<d){const m=Array(d);for(let v=0;v<d;v++)m[v]=a[v];return m}return[]}function $(a,d){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(_(v)){const O=a.length||0,B=v.length||0;a.length=O+B;for(let J=0;J<B;J++)a[O+J]=v[J]}else a.push(v)}}class Ee{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function we(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function pe(a){return pe[" "](a),a}pe[" "]=function(){};var Te=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ye(a,d,m){for(const v in a)d.call(m,a[v],v,a)}function k(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function T(a){const d={};for(const m in a)d[m]=a[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,d){let m,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(m in v)a[m]=v[m];for(let B=0;B<A.length;B++)m=A[B],Object.prototype.hasOwnProperty.call(v,m)&&(a[m]=v[m])}}function V(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function N(a){g.setTimeout(()=>{throw a},0)}function S(){var a=ue;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,m){const v=Ct.get();v.set(d,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Ct=new Ee(()=>new Pt,a=>a.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,Z=!1,ue=new Ze,te=()=>{const a=g.Promise.resolve(void 0);Be=()=>{a.then(x)}};var x=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){N(m)}var d=Ct;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Z=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ie=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return a})();function Se(a,d){if(ae.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Te){e:{try{pe(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Pe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Se.aa.h.call(this)}}G(Se,ae);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ze(a,d,m,v,O){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!v,this.ha=O,this.key=++Me,this.da=this.fa=!1}function dt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qn(a){this.src=a,this.g={},this.h=0}Qn.prototype.add=function(a,d,m,v,O){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var J=gr(a,d,v,O);return-1<J?(d=a[J],m||(d.fa=!1)):(d=new ze(d,this.src,B,!!v,O),d.fa=m,a.push(d)),d};function Li(a,d){var m=d.type;if(m in a.g){var v=a.g[m],O=Array.prototype.indexOf.call(v,d,void 0),B;(B=0<=O)&&Array.prototype.splice.call(v,O,1),B&&(dt(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function gr(a,d,m,v){for(var O=0;O<a.length;++O){var B=a[O];if(!B.da&&B.listener==d&&B.capture==!!m&&B.ha==v)return O}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Mi={};function qs(a,d,m,v,O){if(Array.isArray(d)){for(var B=0;B<d.length;B++)qs(a,d[B],m,v,O);return null}return m=Qs(m),a&&a[Le]?a.K(d,m,E(v)?!!v.capture:!1,O):Ws(a,d,m,!1,v,O)}function Ws(a,d,m,v,O,B){if(!d)throw Error("Invalid event type");var J=E(O)?!!O.capture:!!O,Fe=Ui(a);if(Fe||(a[Gr]=Fe=new Qn(a)),m=Fe.add(d,m,v,J,B),m.proxy)return m;if(v=fa(),m.proxy=v,v.src=a,v.listener=m,a.addEventListener)Ie||(O=J),O===void 0&&(O=!1),a.addEventListener(d.toString(),v,O);else if(a.attachEvent)a.attachEvent(Gn(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function fa(){function a(m){return d.call(a.src,a.listener,m)}const d=Hs;return a}function Fi(a,d,m,v,O){if(Array.isArray(d))for(var B=0;B<d.length;B++)Fi(a,d[B],m,v,O);else v=E(v)?!!v.capture:!!v,m=Qs(m),a&&a[Le]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],m=gr(B,m,v,O),-1<m&&(dt(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ui(a))&&(d=a.g[d.toString()],a=-1,d&&(a=gr(d,m,v,O)),(m=-1<a?d[a]:null)&&Kn(m))}function Kn(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Le])Li(d.i,a);else{var m=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(m,v,a.capture):d.detachEvent?d.detachEvent(Gn(m),v):d.addListener&&d.removeListener&&d.removeListener(v),(m=Ui(d))?(Li(m,a),m.h==0&&(m.src=null,d[Gr]=null)):dt(a)}}}function Gn(a){return a in Mi?Mi[a]:Mi[a]="on"+a}function Hs(a,d){if(a.da)a=!0;else{d=new Se(d,this);var m=a.listener,v=a.ha||a.src;a.fa&&Kn(a),a=m.call(v,d)}return a}function Ui(a){return a=a[Gr],a instanceof Qn?a:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(a){return typeof a=="function"?a:(a[Bi]||(a[Bi]=function(d){return a.handleEvent(d)}),a[Bi])}function ot(){z.call(this),this.i=new Qn(this),this.M=this,this.F=null}G(ot,z),ot.prototype[Le]=!0,ot.prototype.removeEventListener=function(a,d,m,v){Fi(this,a,d,m,v)};function at(a,d){var m,v=a.F;if(v)for(m=[];v;v=v.F)m.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new ae(d,a);else if(d instanceof ae)d.target=d.target||a;else{var O=d;d=new ae(v,a),P(d,O)}if(O=!0,m)for(var B=m.length-1;0<=B;B--){var J=d.g=m[B];O=Xn(J,v,!0,d)&&O}if(J=d.g=a,O=Xn(J,v,!0,d)&&O,O=Xn(J,v,!1,d)&&O,m)for(B=0;B<m.length;B++)J=d.g=m[B],O=Xn(J,v,!1,d)&&O}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],v=0;v<m.length;v++)dt(m[v]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,m,v){return this.i.add(String(a),d,!1,m,v)},ot.prototype.L=function(a,d,m,v){return this.i.add(String(a),d,!0,m,v)};function Xn(a,d,m,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,B=0;B<d.length;++B){var J=d[B];if(J&&!J.da&&J.capture==m){var Fe=J.listener,lt=J.ha||J.src;J.fa&&Li(a.i,J),O=Fe.call(lt,v)!==!1&&O}}return O&&!v.defaultPrevented}function Ks(a,d,m){if(typeof a=="function")m&&(a=M(a,m));else if(a&&typeof a.handleEvent=="function")a=M(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(a,d||0)}function yr(a){a.g=Ks(()=>{a.g=null,a.i&&(a.i=!1,yr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Xr extends z{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(a){z.call(this),this.h=a,this.g={}}G(Yr,z);var Gs=[];function Xs(a){ye(a.g,function(d,m){this.g.hasOwnProperty(m)&&Kn(d)},a),a.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Xs(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=g.JSON.stringify,Js=g.JSON.parse,Zs=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function Jr(){}Jr.prototype.h=null;function ji(a){return a.h||(a.h=a.i())}function zi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vn(){ae.call(this,"d")}G(Vn,ae);function bi(){ae.call(this,"c")}G(bi,ae);var Dn={},eo=null;function Zr(){return eo=eo||new ot}Dn.La="serverreachability";function to(a){ae.call(this,Dn.La,a)}G(to,ae);function Yn(a){const d=Zr();at(d,new to(d))}Dn.STAT_EVENT="statevent";function no(a,d){ae.call(this,Dn.STAT_EVENT,a),this.stat=d}G(no,ae);function et(a){const d=Zr();at(d,new no(d,a))}Dn.Ma="timingevent";function $i(a,d){ae.call(this,Dn.Ma,a),this.size=d}G($i,ae);function mn(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},d)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function ti(a,d,m,v,O,B){a.info(function(){if(a.g)if(B)for(var J="",Fe=B.split("&"),lt=0;lt<Fe.length;lt++){var ke=Fe[lt].split("=");if(1<ke.length){var pt=ke[0];ke=ke[1];var rt=pt.split("_");J=2<=rt.length&&rt[1]=="type"?J+(pt+"="+ke+"&"):J+(pt+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+d+`
`+m+`
`+J})}function qi(a,d,m,v,O,B,J){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+d+`
`+m+`
`+B+" "+J})}function gn(a,d,m,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+du(a,m)+(v?" "+v:"")})}function ro(a,d){a.info(function(){return"TIMEOUT: "+d})}ei.prototype.info=function(){};function du(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var v=m[a];if(!(2>v.length)){var O=v[1];if(Array.isArray(O)&&!(1>O.length)){var B=O[0];if(B!="noop"&&B!="stop"&&B!="close")for(var J=1;J<O.length;J++)O[J]=""}}}}return Ys(m)}catch{return d}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ni(){}G(ni,Jr),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},yn=new ni;function _n(a,d,m,v){this.j=a,this.i=d,this.l=m,this.R=v||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var io={},Hi={};function Qi(a,d,m){a.L=1,a.v=Tr(Xt(d)),a.m=m,a.P=!0,so(a,null)}function so(a,d){a.F=Date.now(),be(a),a.A=Xt(a.v);var m=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Sr(m.i,"t",v),a.C=0,m=a.j.J,a.h=new pa,a.g=xa(a.j,m?d:null,!a.m),0<a.O&&(a.M=new Xr(M(a.Y,a,a.g),a.O)),d=a.U,m=a.g,v=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Gs[0]=O.toString()),O=Gs);for(var B=0;B<O.length;B++){var J=qs(m,O[B],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Yn(),ti(a.i,a.u,a.A,a.l,a.R,a.m)}_n.prototype.ca=function(a){a=a.target;const d=this.M;d&&zt(a)==3?d.j():this.Y(a)},_n.prototype.Y=function(a){try{if(a==this.g)e:{const rt=zt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||rt!=4||d==7||(d==8||0>=ln?Yn(3):Yn(2)),ri(this);var m=this.g.Z();this.X=m;t:if(ma(this)){var v=ho(this.g);a="";var O=v.length,B=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),_r(this);var J="";break t}this.h.i=new g.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(B&&d==O-1)});v.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,qi(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,lt=this.g;if((Fe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!we(Fe)){var ke=Fe;break t}}ke=null}if(m=ke)gn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,m);else{this.o=!1,this.s=3,et(12),on(this),_r(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<J.length;)if(Jt=pu(this,J),Jt==Hi){rt==4&&(this.s=4,et(14),m=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==io){this.s=4,et(15),gn(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else gn(this.i,this.l,Jt,null),oo(this,Jt);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||J.length!=0||this.h.h||(this.s=1,et(16),m=!1),this.o=this.o&&m,!m)gn(this.i,this.l,J,"[Invalid Chunked Response]"),on(this),_r(this);else if(0<J.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),po(pt),pt.M=!0,et(11))}}else gn(this.i,this.l,J,null),oo(this,J);rt==4&&on(this),this.o&&!this.J&&(rt==4?is(this.j,this):(this.o=!1,be(this)))}else Zi(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),_r(this)}}}catch{}};function ma(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function pu(a,d){var m=a.C,v=d.indexOf(`
`,m);return v==-1?Hi:(m=Number(d.substring(m,v)),isNaN(m)?io:(v+=1,v+m>d.length?Hi:(d=d.slice(v,v+m),a.C=v+m,d)))}_n.prototype.cancel=function(){this.J=!0,on(this)};function be(a){a.S=Date.now()+a.I,ga(a,a.I)}function ga(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=mn(M(a.ba,a),d)}function ri(a){a.B&&(g.clearTimeout(a.B),a.B=null)}_n.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ro(this.i,this.A),this.L!=2&&(Yn(),et(17)),on(this),this.s=2,_r(this)):ga(this,this.S-a)};function _r(a){a.j.G==0||a.J||is(a.j,a)}function on(a){ri(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Xs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function oo(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||Mt(m.h,a))){if(!a.K&&Mt(m.h,a)&&m.G==3){try{var v=m.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)rs(m),In(m);else break e;ns(m),et(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=mn(M(m.Za,m),6e3));if(1>=_a(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else nr(m,11)}else if((a.K||m.g==a)&&rs(m),!we(d))for(O=m.Da.g.parse(d),d=0;d<O.length;d++){let ke=O[d];if(m.T=ke[0],ke=ke[1],m.G==2)if(ke[0]=="c"){m.K=ke[1],m.ia=ke[2];const pt=ke[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=ke[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const ln=ke[5];ln!=null&&typeof ln=="number"&&0<ln&&(v=1.5*ln,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const Jt=a.g;if(Jt){const ci=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var B=v.h;B.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ao(B,B.h),B.h=null))}if(v.D){const os=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;os&&(v.ya=os,je(v.I,v.D,os))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var J=a;if(v.qa=Da(v,v.J?v.ia:null,v.W),J.K){va(v.h,J);var Fe=J,lt=v.L;lt&&(Fe.I=lt),Fe.B&&(ri(Fe),be(Fe)),v.g=J}else ui(v);0<m.i.length&&Ln(m)}else ke[0]!="stop"&&ke[0]!="close"||nr(m,7);else m.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?nr(m,7):Et(m):ke[0]!="noop"&&m.l&&m.l.ta(ke),m.v=0)}}Yn(4)}catch{}}var ya=class{constructor(a,d){this.g=a,this.map=d}};function ii(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _a(a){return a.h?1:a.g?a.g.size:0}function Mt(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ao(a,d){a.g?a.g.add(d):a.h=d}function va(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ii.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ea(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return Y(a.i)}function Ki(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(_(a)){for(var d=[],m=a.length,v=0;v<m;v++)d.push(a[v]);return d}d=[],m=0;for(v in a)d[m++]=a[v];return d}function Gi(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(_(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const v in a)d[m++]=v;return d}}}function vr(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(_(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=Gi(a),v=Ki(a),O=v.length,B=0;B<O;B++)d.call(void 0,v[B],m&&m[B],a)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mu(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var v=a[m].indexOf("="),O=null;if(0<=v){var B=a[m].substring(0,v);O=a[m].substring(v+1)}else B=a[m];d(B,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Jn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Jn){this.h=a.h,oi(this,a.j),this.o=a.o,this.g=a.g,Er(this,a.s),this.l=a.l;var d=a.i,m=new xn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),wr(this,m),this.m=a.m}else a&&(d=String(a).match(si))?(this.h=!1,oi(this,d[1]||"",!0),this.o=Ce(d[2]||""),this.g=Ce(d[3]||"",!0),Er(this,d[4]),this.l=Ce(d[5]||"",!0),wr(this,d[6]||"",!0),this.m=Ce(d[7]||"")):(this.h=!1,this.i=new xn(null,this.h))}Jn.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ir(d,Xi,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ir(d,Xi,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Ir(m,m.charAt(0)=="/"?Ia:Ta,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Ir(m,lo)),a.join("")};function Xt(a){return new Jn(a)}function oi(a,d,m){a.j=m?Ce(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Er(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function wr(a,d,m){d instanceof xn?(a.i=d,Nn(a.i,a.h)):(m||(d=Ir(d,Sa)),a.i=new xn(d,a.h))}function je(a,d,m){a.i.set(d,m)}function Tr(a){return je(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ce(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ir(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,wa),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wa(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xi=/[#\/\?@]/g,Ta=/[#\?:]/g,Ia=/[#\?]/g,Sa=/[#\?@]/g,lo=/#/g;function xn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function vt(a){a.g||(a.g=new Map,a.h=0,a.i&&mu(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=xn.prototype,i.add=function(a,d){vt(this),this.i=null,a=an(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function vn(a,d){vt(a),d=an(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function En(a,d){return vt(a),d=an(a,d),a.g.has(d)}i.forEach=function(a,d){vt(this),this.g.forEach(function(m,v){m.forEach(function(O){a.call(d,O,v,this)},this)},this)},i.na=function(){vt(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let v=0;v<d.length;v++){const O=a[v];for(let B=0;B<O.length;B++)m.push(d[v])}return m},i.V=function(a){vt(this);let d=[];if(typeof a=="string")En(this,a)&&(d=d.concat(this.g.get(an(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},i.set=function(a,d){return vt(this),this.i=null,a=an(this,a),En(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Sr(a,d,m){vn(a,d),0<m.length&&(a.i=null,a.g.set(an(a,d),Y(m)),a.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var v=d[m];const B=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var O=B;J[v]!==""&&(O+="="+encodeURIComponent(String(J[v]))),a.push(O)}}return this.i=a.join("&")};function an(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Nn(a,d){d&&!a.j&&(vt(a),a.i=null,a.g.forEach(function(m,v){var O=v.toLowerCase();v!=O&&(vn(this,v),Sr(this,O,m))},a)),a.j=d}function gu(a,d){const m=new ei;if(g.Image){const v=new Image;v.onload=j(jt,m,"TestLoadImage: loaded",!0,d,v),v.onerror=j(jt,m,"TestLoadImage: error",!1,d,v),v.onabort=j(jt,m,"TestLoadImage: abort",!1,d,v),v.ontimeout=j(jt,m,"TestLoadImage: timeout",!1,d,v),g.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function Aa(a,d){const m=new ei,v=new AbortController,O=setTimeout(()=>{v.abort(),jt(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(B=>{clearTimeout(O),B.ok?jt(m,"TestPingServer: ok",!0,d):jt(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),jt(m,"TestPingServer: error",!1,d)})}function jt(a,d,m,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(m)}catch{}}function yu(){this.g=new Zs}function Ra(a,d,m){const v=m||"";try{vr(a,function(O,B){let J=O;E(O)&&(J=Ys(O)),d.push(v+B+"="+encodeURIComponent(J))})}catch(O){throw d.push(v+"type="+encodeURIComponent("_badmap")),O}}function Zn(a){this.l=a.Ub||null,this.j=a.eb||!1}G(Zn,Jr),Zn.prototype.g=function(){return new ai(this.l,this.j)},Zn.prototype.i=(function(a){return function(){return a}})({});function ai(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(ai,ot),i=ai.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Tn(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?wn(this):Tn(this),this.readyState==3&&Ca(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,wn(this))},i.Qa=function(a){this.g&&(this.response=a,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Tn(a)}i.setRequestHeader=function(a,d){this.u.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function Tn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function er(a){let d="";return ye(a,function(m,v){d+=v,d+=":",d+=m,d+=`\r
`}),d}function Ar(a,d,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=er(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):je(a,d,m))}function He(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(He,ot);var _u=/^https?$/i,uo=["POST","PUT"];i=He.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,d,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?ji(this.o):ji(yn),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){li(this,B);return}if(a=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)m.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const B of v.keys())m.set(B,v.get(B));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),O=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(uo,d,void 0))||v||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of m)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){li(this,B)}};function li(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Yi(a),Yt(a)}function Yi(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Yt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},i.bb=function(){co(this)};function co(a){if(a.h&&typeof f<"u"&&(!a.v[1]||zt(a)!=4||a.Z()!=2)){if(a.u&&zt(a)==4)Ks(a.Ea,0,a);else if(at(a,"readystatechange"),zt(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var v;if(v=J===0){var O=String(a.D).match(si)[1]||null;!O&&g.self&&g.self.location&&(O=g.self.location.protocol.slice(0,-1)),v=!_u.test(O?O.toLowerCase():"")}m=v}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var B=2<zt(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",Yi(a)}}finally{Yt(a)}}}}function Yt(a,d){if(a.g){Ji(a);const m=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||at(a,"ready");try{m.onreadystatechange=v}catch{}}}function Ji(a){a.I&&(g.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function zt(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Js(d)}};function ho(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(a){const d={};a=(a.g&&2<=zt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(we(a[v]))continue;var m=V(a[v]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=d[O]||[];d[O]=B,B.push(m)}k(d,function(v){return v.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function fo(a){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,a),this.cb=On("retryDelaySeedMs",1e4,a),this.Wa=On("forwardChannelMaxRetries",2,a),this.wa=On("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(a&&a.concurrentRequestLimit),this.Da=new yu,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fo.prototype,i.la=8,i.G=1,i.connect=function(a,d,m,v){et(0),this.W=a,this.H=d||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Da(this,null,this.W),Ln(this)};function Et(a){if(es(a),a.G==3){var d=a.U++,m=Xt(a.I);if(je(m,"SID",a.K),je(m,"RID",d),je(m,"TYPE","terminate"),tr(a,m),d=new _n(a,a.j,d),d.L=2,d.v=Tr(Xt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=xa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}Va(a)}function In(a){a.g&&(po(a),a.g.cancel(),a.g=null)}function es(a){In(a),a.u&&(g.clearTimeout(a.u),a.u=null),rs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Ln(a){if(!Gt(a.h)&&!a.s){a.s=!0;var d=a.Ga;Be||te(),Z||(Be(),Z=!0),ue.add(d,a),a.B=0}}function vu(a,d){return _a(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=mn(M(a.Ga,a,d),ka(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new _n(this,this.j,a);let B=this.o;if(this.S&&(B?(B=T(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(O.H=B,B=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Rr(this,O,d),m=Xt(this.I),je(m,"RID",a),je(m,"CVER",22),this.D&&je(m,"X-HTTP-Session-Id",this.D),tr(this,m),B&&(this.O?d="headers="+encodeURIComponent(String(er(B)))+"&"+d:this.m&&Ar(m,this.m,B)),ao(this.h,O),this.Ua&&je(m,"TYPE","init"),this.P?(je(m,"$req",d),je(m,"SID","null"),O.T=!0,Qi(O,m,null)):Qi(O,m,d),this.G=2}}else this.G==3&&(a?ts(this,a):this.i.length==0||Gt(this.h)||ts(this))};function ts(a,d){var m;d?m=d.l:m=a.U++;const v=Xt(a.I);je(v,"SID",a.K),je(v,"RID",m),je(v,"AID",a.T),tr(a,v),a.m&&a.o&&Ar(v,a.m,a.o),m=new _n(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Rr(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ao(a.h,m),Qi(m,v,d)}function tr(a,d){a.H&&ye(a.H,function(m,v){je(d,v,m)}),a.l&&vr({},function(m,v){je(d,v,m)})}function Rr(a,d,m){m=Math.min(a.i.length,m);var v=a.l?M(a.l.Na,a.l,a):null;e:{var O=a.i;let B=-1;for(;;){const J=["count="+m];B==-1?0<m?(B=O[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let Fe=!0;for(let lt=0;lt<m;lt++){let ke=O[lt].g;const pt=O[lt].map;if(ke-=B,0>ke)B=Math.max(0,O[lt].g-100),Fe=!1;else try{Ra(pt,J,"req"+ke+"_")}catch{v&&v(pt)}}if(Fe){v=J.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,v}function ui(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Be||te(),Z||(Be(),Z=!0),ue.add(d,a),a.v=0}}function ns(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=mn(M(a.Fa,a),ka(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,Pa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=mn(M(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),In(this),Pa(this))};function po(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function Pa(a){a.g=new _n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Xt(a.qa);je(d,"RID","rpc"),je(d,"SID",a.K),je(d,"AID",a.T),je(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&je(d,"TO",a.ja),je(d,"TYPE","xmlhttp"),tr(a,d),a.m&&a.o&&Ar(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Tr(Xt(d)),m.m=null,m.P=!0,so(m,a)}i.Za=function(){this.C!=null&&(this.C=null,In(this),ns(this),et(19))};function rs(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function is(a,d){var m=null;if(a.g==d){rs(a),po(a),a.g=null;var v=2}else if(Mt(a.h,d))m=d.D,va(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;v=Zr(),at(v,new $i(v,m)),Ln(a)}else ui(a);else if(O=d.s,O==3||O==0&&0<d.X||!(v==1&&vu(a,d)||v==2&&ns(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),O){case 1:nr(a,5);break;case 4:nr(a,10);break;case 3:nr(a,6);break;default:nr(a,2)}}}function ka(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function nr(a,d){if(a.j.info("Error code "+d),d==2){var m=M(a.fb,a),v=a.Xa;const O=!v;v=new Jn(v||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||oi(v,"https"),Tr(v),O?gu(v.toString(),m):Aa(v.toString(),m)}else et(2);a.G=0,a.l&&a.l.sa(d),Va(a),es(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Va(a){if(a.G=0,a.ka=[],a.l){const d=Ea(a.h);(d.length!=0||a.i.length!=0)&&($(a.ka,d),$(a.ka,a.i),a.h.i.length=0,Y(a.i),a.i.length=0),a.l.ra()}}function Da(a,d,m){var v=m instanceof Jn?Xt(m):new Jn(m);if(v.g!="")d&&(v.g=d+"."+v.g),Er(v,v.s);else{var O=g.location;v=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var B=new Jn(null);v&&oi(B,v),d&&(B.g=d),O&&Er(B,O),m&&(B.l=m),v=B}return m=a.D,d=a.ya,m&&d&&je(v,m,d),je(v,"VER",a.la),tr(a,v),v}function xa(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new He(new Zn({eb:m})):new He(a.pa),d.Ha(a.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ss(){}ss.prototype.g=function(a,d){return new Ft(a,d)};function Ft(a,d){ot.call(this),this.g=new fo(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!we(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!we(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Mn(this)}G(Ft,ot),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Et(this.g)},Ft.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Ys(a),a=m);d.i.push(new ya(d.Ya++,a)),d.G==3&&Ln(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,Ft.aa.N.call(this)};function Na(a){Vn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}G(Na,Vn);function Oa(){bi.call(this),this.status=1}G(Oa,bi);function Mn(a){this.g=a}G(Mn,mo),Mn.prototype.ua=function(){at(this.g,"a")},Mn.prototype.ta=function(a){at(this.g,new Na(a))},Mn.prototype.sa=function(a){at(this.g,new Oa)},Mn.prototype.ra=function(){at(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Dm=function(){return new ss},Vm=function(){return Zr()},km=Dn,ah={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Ol=Wi,da.COMPLETE="complete",Pm=da,zi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,$o=zi,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,Cm=He}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const Pp="@firebase/firestore";class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");let zs="10.14.0";const Vi=new Em("@firebase/firestore");function jo(){return Vi.logLevel}function se(i,...e){if(Vi.logLevel<=xe.DEBUG){const r=e.map(Ah);Vi.debug(`Firestore (${zs}): ${i}`,...r)}}function pr(i,...e){if(Vi.logLevel<=xe.ERROR){const r=e.map(Ah);Vi.error(`Firestore (${zs}): ${i}`,...r)}}function Ns(i,...e){if(Vi.logLevel<=xe.WARN){const r=e.map(Ah);Vi.warn(`Firestore (${zs}): ${i}`,...r)}}function Ah(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function ge(i="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Ue(i,e){i||ge()}function ve(i,e){return i}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends js{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pi{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class xm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Ot.UNAUTHENTICATED)))}shutdown(){}}class Fv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Uv{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ue(this.o===void 0);let o=this.i;const l=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}}),0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((o=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ue(typeof o.accessToken=="string"),new xm(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ot(e)}}class Bv{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jv{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Bv(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Ot.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Ue(this.o===void 0);const o=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>o(c)))};const l=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Ue(typeof r.token=="string"),this.R=r.token,new zv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $v(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=$v(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%e.length))}return o}}function Oe(i,e){return i<e?-1:i>e?1:0}function Os(i,e,r){return i.length===e.length&&i.every(((o,l)=>r(o,e[l])))}class ft{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new le(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new le(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new le(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new ft(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new ft(0,0))}static max(){return new _e(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zo{constructor(e,r,o){r===void 0?r=0:r>e.length&&ge(),o===void 0?o=e.length-r:o>e.length-r&&ge(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Zo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Zo?e.forEach((o=>{r.push(o)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=e.get(l),f=r.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ke extends Zo{construct(e,r,o){return new Ke(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new le(H.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter((l=>l.length>0)))}return new Ke(r)}static emptyPath(){return new Ke([])}}const qv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Zo{construct(e,r,o){return new St(e,r,o)}static isValidIdentifier(e){return qv.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new le(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=_,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(o+=g,l++):(c(),l++)}if(c(),f)throw new le(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(r)}static emptyPath(){return new St([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(Ke.fromString(e))}static fromName(e){return new de(Ke.fromString(e).popFirst(5))}static empty(){return new de(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ke.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ke(e.slice()))}}function Wv(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=_e.fromTimestamp(o===1e9?new ft(r+1,0):new ft(r,o));return new Wr(l,de.empty(),e)}function Hv(i){return new Wr(i.readTime,i.key,-1)}class Wr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Wr(_e.min(),de.empty(),-1)}static max(){return new Wr(_e.max(),de.empty(),-1)}}function Qv(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=de.comparator(i.documentKey,e.documentKey),r!==0?r:Oe(i.largestBatchId,e.largestBatchId))}const Kv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oa(i){if(i.code!==H.FAILED_PRECONDITION||i.message!==Kv)throw i;se("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new W(((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof W?r:W.resolve(r)}catch(r){return W.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):W.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):W.reject(r)}static resolve(e){return new W(((r,o)=>{r(e)}))}static reject(e){return new W(((r,o)=>{o(e)}))}static waitFor(e){return new W(((r,o)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&r()}),(_=>o(_)))})),f=!0,c===l&&r()}))}static or(e){let r=W.resolve(!1);for(const o of e)r=r.next((l=>l?W.resolve(l):o()));return r}static forEach(e,r){const o=[];return e.forEach(((l,c)=>{o.push(r.call(this,l,c))})),this.waitFor(o)}static mapArray(e,r){return new W(((o,l)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const E=_;r(e[E]).next((I=>{f[E]=I,++g,g===c&&o(f)}),(I=>l(I)))}}))}static doWhile(e,r){return new W(((o,l)=>{const c=()=>{e()===!0?r().next((()=>{c()}),l):o()};c()}))}}function Xv(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function aa(i){return i.name==="IndexedDbTransactionError"}class Rh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rh.oe=-1;function Jl(i){return i==null}function $l(i){return i===0&&1/i==-1/0}function Yv(i){return typeof i=="number"&&Number.isInteger(i)&&!$l(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function kp(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Ni(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Om(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ye{constructor(e,r){this.comparator=e,this.root=r||It.EMPTY}insert(e,r){return new Ye(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,o)=>(e(r,o),!1)))}toString(){const e=[];return this.inorderTraversal(((r,o)=>(e.push(`${r}:${o}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??It.RED,this.left=l??It.EMPTY,this.right=c??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new It(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return It.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,r,o,l,c){return this}insert(e,r,o){return new It(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class At{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,o)=>(e(r),!1)))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Vp(this.data.getIterator())}getIteratorFrom(e){return new Vp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((o=>{r=r.add(o)})),r}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new At(this.comparator);return r.data=e,r}}class Vp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new nn([])}unionWith(e){let r=new At(St.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new nn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,((r,o)=>r.isEqual(o)))}}class Lm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Lm("Invalid base64 string: "+c):c}})(e);return new Rt(r)}static fromUint8Array(e){const r=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new Rt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Jv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(i){if(Ue(!!i),typeof i=="string"){let e=0;const r=Jv.exec(i);if(Ue(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Di(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}function Ch(i){var e,r;return((r=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ph(i){const e=i.mapValue.fields.__previous_value__;return Ch(e)?Ph(e):e}function ea(i){const e=Hr(i.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}class Zv{constructor(e,r,o,l,c,f,g,_,E){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=E}}class ta{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}const Vl={mapValue:{}};function xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ch(i)?4:tE(i)?9007199254740991:eE(i)?10:11:ge()}function qn(i,e){if(i===e)return!0;const r=xi(i);if(r!==xi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ea(i).isEqual(ea(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Hr(l.timestampValue),g=Hr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Di(l.bytesValue).isEqual(Di(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return nt(l.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(l.geoPointValue.longitude)===nt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return nt(l.integerValue)===nt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=nt(l.doubleValue),g=nt(c.doubleValue);return f===g?$l(f)===$l(g):isNaN(f)&&isNaN(g)}return!1})(i,e);case 9:return Os(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(kp(f)!==kp(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!qn(f[_],g[_])))return!1;return!0})(i,e);default:return ge()}}function na(i,e){return(i.values||[]).find((r=>qn(r,e)))!==void 0}function Ls(i,e){if(i===e)return 0;const r=xi(i),o=xi(e);if(r!==o)return Oe(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=nt(c.integerValue||c.doubleValue),_=nt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(i,e);case 3:return Dp(i.timestampValue,e.timestampValue);case 4:return Dp(ea(i),ea(e));case 5:return Oe(i.stringValue,e.stringValue);case 6:return(function(c,f){const g=Di(c),_=Di(f);return g.compareTo(_)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let E=0;E<g.length&&E<_.length;E++){const I=Oe(g[E],_[E]);if(I!==0)return I}return Oe(g.length,_.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Oe(nt(c.latitude),nt(f.latitude));return g!==0?g:Oe(nt(c.longitude),nt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return xp(i.arrayValue,e.arrayValue);case 10:return(function(c,f){var g,_,E,I;const D=c.fields||{},M=f.fields||{},j=(g=D.value)===null||g===void 0?void 0:g.arrayValue,G=(_=M.value)===null||_===void 0?void 0:_.arrayValue,Y=Oe(((E=j?.values)===null||E===void 0?void 0:E.length)||0,((I=G?.values)===null||I===void 0?void 0:I.length)||0);return Y!==0?Y:xp(j,G)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Vl.mapValue&&f===Vl.mapValue)return 0;if(c===Vl.mapValue)return 1;if(f===Vl.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),E=f.fields||{},I=Object.keys(E);_.sort(),I.sort();for(let D=0;D<_.length&&D<I.length;++D){const M=Oe(_[D],I[D]);if(M!==0)return M;const j=Ls(g[_[D]],E[I[D]]);if(j!==0)return j}return Oe(_.length,I.length)})(i.mapValue,e.mapValue);default:throw ge()}}function Dp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const r=Hr(i),o=Hr(e),l=Oe(r.seconds,o.seconds);return l!==0?l:Oe(r.nanos,o.nanos)}function xp(i,e){const r=i.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Ls(r[l],o[l]);if(c)return c}return Oe(r.length,o.length)}function Ms(i){return lh(i)}function lh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const o=Hr(r);return`time(${o.seconds},${o.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return Di(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return de.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=lh(c);return o+"]"})(i.arrayValue):"mapValue"in i?(function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of o)c?c=!1:l+=",",l+=`${f}:${lh(r.fields[f])}`;return l+"}"})(i.mapValue):ge()}function uh(i){return!!i&&"integerValue"in i}function kh(i){return!!i&&"arrayValue"in i}function Np(i){return!!i&&"nullValue"in i}function Op(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ll(i){return!!i&&"mapValue"in i}function eE(i){var e,r;return((r=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ni(i.mapValue.fields,((r,o)=>e.mapValue.fields[r]=Qo(o))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function tE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ll(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(r)}setAll(e){let r=St.emptyPath(),o={},l=[];e.forEach(((f,g)=>{if(!r.isImmediateParentOf(g)){const _=this.getFieldsMap(r);this.applyChanges(_,o,l),o={},l=[],r=g.popLast()}f?o[g.lastSegment()]=Qo(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Ll(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Ll(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Ni(r,((l,c)=>e[l]=c));for(const l of o)delete e[l]}clone(){return new Kt(Qo(this.value))}}function Mm(i){const e=[];return Ni(i.fields,((r,o)=>{const l=new St([r]);if(Ll(o)){const c=Mm(o.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new nn(e)}class Lt{constructor(e,r,o,l,c,f,g){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Lt(e,0,_e.min(),_e.min(),_e.min(),Kt.empty(),0)}static newFoundDocument(e,r,o,l){return new Lt(e,1,r,_e.min(),o,l,0)}static newNoDocument(e,r){return new Lt(e,2,r,_e.min(),_e.min(),Kt.empty(),0)}static newUnknownDocument(e,r){return new Lt(e,3,r,_e.min(),_e.min(),Kt.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ql{constructor(e,r){this.position=e,this.inclusive=r}}function Lp(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(c.field.isKeyField()?o=de.comparator(de.fromName(f.referenceValue),r.key):o=Ls(f,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Mp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!qn(i.position[r],e.position[r]))return!1;return!0}class Wl{constructor(e,r="asc"){this.field=e,this.dir=r}}function nE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Fm{}class ht extends Fm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new iE(e,r,o):r==="array-contains"?new aE(e,o):r==="in"?new lE(e,o):r==="not-in"?new uE(e,o):r==="array-contains-any"?new cE(e,o):new ht(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new sE(e,o):new oE(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ls(r,this.value)):r!==null&&xi(this.value)===xi(r)&&this.matchesComparison(Ls(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Fm{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Wn(e,r)}matches(e){return Um(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Um(i){return i.op==="and"}function Bm(i){return rE(i)&&Um(i)}function rE(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function ch(i){if(i instanceof ht)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(Bm(i))return i.filters.map((e=>ch(e))).join(",");{const e=i.filters.map((r=>ch(r))).join(",");return`${i.op}(${e})`}}function jm(i,e){return i instanceof ht?(function(o,l){return l instanceof ht&&o.op===l.op&&o.field.isEqual(l.field)&&qn(o.value,l.value)})(i,e):i instanceof Wn?(function(o,l){return l instanceof Wn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce(((c,f,g)=>c&&jm(f,l.filters[g])),!0):!1})(i,e):void ge()}function zm(i){return i instanceof ht?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ms(r.value)}`})(i):i instanceof Wn?(function(r){return r.op.toString()+" {"+r.getFilters().map(zm).join(" ,")+"}"})(i):"Filter"}class iE extends ht{constructor(e,r,o){super(e,r,o),this.key=de.fromName(o.referenceValue)}matches(e){const r=de.comparator(e.key,this.key);return this.matchesComparison(r)}}class sE extends ht{constructor(e,r){super(e,"in",r),this.keys=bm("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class oE extends ht{constructor(e,r){super(e,"not-in",r),this.keys=bm("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function bm(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((o=>de.fromName(o.referenceValue)))}class aE extends ht{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kh(r)&&na(r.arrayValue,this.value)}}class lE extends ht{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&na(this.value.arrayValue,r)}}class uE extends ht{constructor(e,r){super(e,"not-in",r)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!na(this.value.arrayValue,r)}}class cE extends ht{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kh(r)||!r.arrayValue.values)&&r.arrayValue.values.some((o=>na(this.value.arrayValue,o)))}}class hE{constructor(e,r=null,o=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.ue=null}}function Fp(i,e=null,r=[],o=[],l=null,c=null,f=null){return new hE(i,e,r,o,l,c,f)}function Vh(i){const e=ve(i);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((o=>ch(o))).join(","),r+="|ob:",r+=e.orderBy.map((o=>(function(c){return c.field.canonicalString()+c.dir})(o))).join(","),Jl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Ms(o))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Ms(o))).join(",")),e.ue=r}return e.ue}function Dh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!nE(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!jm(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Mp(i.startAt,e.startAt)&&Mp(i.endAt,e.endAt)}function hh(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Zl{constructor(e,r=null,o=[],l=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fE(i,e,r,o,l,c,f,g){return new Zl(i,e,r,o,l,c,f,g)}function xh(i){return new Zl(i)}function Up(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dE(i){return i.collectionGroup!==null}function Ko(i){const e=ve(i);if(e.ce===null){e.ce=[];const r=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new At(St.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((E=>{E.isInequality()&&(g=g.add(E.field))}))})),g})(e).forEach((c=>{r.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Wl(c,o))})),r.has(St.keyField().canonicalString())||e.ce.push(new Wl(St.keyField(),o))}return e.ce}function zn(i){const e=ve(i);return e.le||(e.le=pE(e,Ko(i))),e.le}function pE(i,e){if(i.limitType==="F")return Fp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wl(l.field,c)}));const r=i.endAt?new ql(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new ql(i.startAt.position,i.startAt.inclusive):null;return Fp(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}function fh(i,e,r){return new Zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function eu(i,e){return Dh(zn(i),zn(e))&&i.limitType===e.limitType}function $m(i){return`${Vh(zn(i))}|lt:${i.limitType}`}function Ps(i){return`Query(target=${(function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map((l=>zm(l))).join(", ")}]`),Jl(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map((l=>Ms(l))).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map((l=>Ms(l))).join(",")),`Target(${o})`})(zn(i))}; limitType=${i.limitType})`}function tu(i,e){return e.isFoundDocument()&&(function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):de.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)})(i,e)&&(function(o,l){for(const c of Ko(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(o,l){return!(o.startAt&&!(function(f,g,_){const E=Lp(f,g,_);return f.inclusive?E<=0:E<0})(o.startAt,Ko(o),l)||o.endAt&&!(function(f,g,_){const E=Lp(f,g,_);return f.inclusive?E>=0:E>0})(o.endAt,Ko(o),l))})(i,e)}function mE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qm(i){return(e,r)=>{let o=!1;for(const l of Ko(i)){const c=gE(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function gE(i,e,r){const o=i.field.isKeyField()?de.comparator(e.key,r.key):(function(c,f,g){const _=f.data.field(c),E=g.data.field(c);return _!==null&&E!==null?Ls(_,E):ge()})(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return ge()}}class bs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((r,o)=>{for(const[l,c]of o)e(l,c)}))}isEmpty(){return Om(this.inner)}size(){return this.innerSize}}const yE=new Ye(de.comparator);function mr(){return yE}const Wm=new Ye(de.comparator);function qo(...i){let e=Wm;for(const r of i)e=e.insert(r.key,r);return e}function Hm(i){let e=Wm;return i.forEach(((r,o)=>e=e.insert(r,o.overlayedDocument))),e}function Ri(){return Go()}function Qm(){return Go()}function Go(){return new bs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _E=new Ye(de.comparator),vE=new At(de.comparator);function Re(...i){let e=vE;for(const r of i)e=e.add(r);return e}const EE=new At(Oe);function wE(){return EE}function Nh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function Km(i){return{integerValue:""+i}}function TE(i,e){return Yv(e)?Km(e):Nh(i,e)}class nu{constructor(){this._=void 0}}function IE(i,e,r){return i instanceof Hl?(function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ch(c)&&(c=Ph(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}})(r,e):i instanceof ra?Xm(i,e):i instanceof ia?Ym(i,e):(function(l,c){const f=Gm(l,c),g=Bp(f)+Bp(l.Pe);return uh(f)&&uh(l.Pe)?Km(g):Nh(l.serializer,g)})(i,e)}function SE(i,e,r){return i instanceof ra?Xm(i,e):i instanceof ia?Ym(i,e):r}function Gm(i,e){return i instanceof Ql?(function(o){return uh(o)||(function(c){return!!c&&"doubleValue"in c})(o)})(e)?e:{integerValue:0}:null}class Hl extends nu{}class ra extends nu{constructor(e){super(),this.elements=e}}function Xm(i,e){const r=Jm(e);for(const o of i.elements)r.some((l=>qn(l,o)))||r.push(o);return{arrayValue:{values:r}}}class ia extends nu{constructor(e){super(),this.elements=e}}function Ym(i,e){let r=Jm(e);for(const o of i.elements)r=r.filter((l=>!qn(l,o)));return{arrayValue:{values:r}}}class Ql extends nu{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Bp(i){return nt(i.integerValue||i.doubleValue)}function Jm(i){return kh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function AE(i,e){return i.field.isEqual(e.field)&&(function(o,l){return o instanceof ra&&l instanceof ra||o instanceof ia&&l instanceof ia?Os(o.elements,l.elements,qn):o instanceof Ql&&l instanceof Ql?qn(o.Pe,l.Pe):o instanceof Hl&&l instanceof Hl})(i.transform,e.transform)}class RE{constructor(e,r){this.version=e,this.transformResults=r}}class bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ru{}function Zm(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new tg(i.key,bn.none()):new la(i.key,i.data,bn.none());{const r=i.data,o=Kt.empty();let l=new At(St.comparator);for(let c of e.fields)if(!l.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?o.delete(c):o.set(c,f),l=l.add(c)}return new Kr(i.key,o,new nn(l.toArray()),bn.none())}}function CE(i,e,r){i instanceof la?(function(l,c,f){const g=l.value.clone(),_=zp(l.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,r):i instanceof Kr?(function(l,c,f){if(!Ml(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=zp(l.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(eg(l)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(i,e,r):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,r)}function Xo(i,e,r,o){return i instanceof la?(function(c,f,g,_){if(!Ml(c.precondition,f))return g;const E=c.value.clone(),I=bp(c.fieldTransforms,_,f);return E.setAll(I),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),null})(i,e,r,o):i instanceof Kr?(function(c,f,g,_){if(!Ml(c.precondition,f))return g;const E=bp(c.fieldTransforms,_,f),I=f.data;return I.setAll(eg(c)),I.setAll(E),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((D=>D.field)))})(i,e,r,o):(function(c,f,g){return Ml(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(i,e,r)}function PE(i,e){let r=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),c=Gm(o.transform,l||null);c!=null&&(r===null&&(r=Kt.empty()),r.set(o.field,c))}return r||null}function jp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Os(o,l,((c,f)=>AE(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class la extends ru{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Kr extends ru{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eg(i){const e=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}})),e}function zp(i,e,r){const o=new Map;Ue(i.length===r.length);for(let l=0;l<r.length;l++){const c=i[l],f=c.transform,g=e.data.field(c.field);o.set(c.field,SE(f,g,r[l]))}return o}function bp(i,e,r){const o=new Map;for(const l of i){const c=l.transform,f=r.data.field(l.field);o.set(l.field,IE(c,f,e))}return o}class tg extends ru{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kE extends ru{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VE{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&CE(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Xo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Xo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Qm();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=r.has(l.key)?null:g;const _=Zm(f,g);_!==null&&o.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(_e.min())})),o}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Re())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,((r,o)=>jp(r,o)))&&Os(this.baseMutations,e.baseMutations,((r,o)=>jp(r,o)))}}class Oh{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){Ue(e.mutations.length===o.length);let l=(function(){return _E})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,o[f].version);return new Oh(e,r,o,l)}}class DE{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xE{constructor(e,r){this.count=e,this.unchangedNames=r}}var st,Ve;function NE(i){switch(i){default:return ge();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function ng(i){if(i===void 0)return pr("GRPC error has no .code"),H.UNKNOWN;switch(i){case st.OK:return H.OK;case st.CANCELLED:return H.CANCELLED;case st.UNKNOWN:return H.UNKNOWN;case st.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case st.INTERNAL:return H.INTERNAL;case st.UNAVAILABLE:return H.UNAVAILABLE;case st.UNAUTHENTICATED:return H.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case st.NOT_FOUND:return H.NOT_FOUND;case st.ALREADY_EXISTS:return H.ALREADY_EXISTS;case st.PERMISSION_DENIED:return H.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case st.ABORTED:return H.ABORTED;case st.OUT_OF_RANGE:return H.OUT_OF_RANGE;case st.UNIMPLEMENTED:return H.UNIMPLEMENTED;case st.DATA_LOSS:return H.DATA_LOSS;default:return ge()}}(Ve=st||(st={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function OE(){return new TextEncoder}const LE=new Ci([4294967295,4294967295],0);function $p(i){const e=OE().encode(i),r=new Rm;return r.update(e),new Uint8Array(r.digest())}function qp(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ci([r,o],0),new Ci([l,c],0)]}class Lh{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Wo(`Invalid padding: ${r}`);if(o<0)throw new Wo(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ci.fromNumber(this.Ie)}Ee(e,r,o){let l=e.add(r.multiply(Ci.fromNumber(o)));return l.compare(LE)===1&&(l=new Ci([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=$p(e),[o,l]=qp(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);if(!this.de(f))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Lh(c,l,r);return o.forEach((g=>f.insert(g))),f}insert(e){if(this.Ie===0)return;const r=$p(e),[o,l]=qp(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);this.Ae(f)}}Ae(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iu{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new iu(_e.min(),l,new Ye(Oe),mr(),Re())}}class ua{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new ua(o,r,Re(),Re(),Re())}}class Fl{constructor(e,r,o,l){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=l}}class rg{constructor(e,r){this.targetId=e,this.me=r}}class ig{constructor(e,r,o=Rt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class Wp{constructor(){this.fe=0,this.ge=Qp(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),r=Re(),o=Re();return this.ge.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:ge()}})),new ua(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Qp()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ME{constructor(e){this.Le=e,this.Be=new Map,this.ke=mr(),this.qe=Hp(),this.Qe=new Ye(Oe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:ge()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((o,l)=>{this.ze(l)&&r(l)}))}He(e){const r=e.targetId,o=e.me.count,l=this.Je(r);if(l){const c=l.target;if(hh(c))if(o===0){const f=new de(c.path);this.Ue(r,f,Lt.newNoDocument(f,_e.min()))}else Ue(o===1);else{const f=this.Ye(r);if(f!==o){const g=this.Ze(e),_=g?this.Xe(g,e,f):1;if(_!==0){this.je(r);const E=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,E)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let f,g;try{f=Di(o).toUint8Array()}catch(_){if(_ instanceof Lm)return Ns("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Lh(f,l,c)}catch(_){return Ns(_ instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ie===0?null:g}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach((c=>{const f=this.Le.tt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Ue(r,c,null),l++)})),l}rt(e){const r=new Map;this.Be.forEach(((c,f)=>{const g=this.Je(f);if(g){if(c.current&&hh(g.target)){const _=new de(g.target.path);this.ke.get(_)!==null||this.it(f,_)||this.Ue(f,_,Lt.newNoDocument(_,e))}c.be&&(r.set(f,c.ve()),c.Ce())}}));let o=Re();this.qe.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const E=this.Je(_);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(o=o.add(c))})),this.ke.forEach(((c,f)=>f.setReadTime(e)));const l=new iu(e,r,this.Qe,this.ke,o);return this.ke=mr(),this.qe=Hp(),this.Qe=new Ye(Oe),l}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Wp,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new At(Oe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||se("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wp),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Hp(){return new Ye(de.comparator)}function Qp(){return new Ye(de.comparator)}const FE={asc:"ASCENDING",desc:"DESCENDING"},UE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BE={and:"AND",or:"OR"};class jE{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function dh(i,e){return i.useProto3Json||Jl(e)?e:{value:e}}function Kl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zE(i,e){return Kl(i,e.toTimestamp())}function $n(i){return Ue(!!i),_e.fromTimestamp((function(r){const o=Hr(r);return new ft(o.seconds,o.nanos)})(i))}function Mh(i,e){return ph(i,e).canonicalString()}function ph(i,e){const r=(function(l){return new Ke(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?r:r.child(e)}function og(i){const e=Ke.fromString(i);return Ue(hg(e)),e}function mh(i,e){return Mh(i.databaseId,e.path)}function Kc(i,e){const r=og(e);if(r.get(1)!==i.databaseId.projectId)throw new le(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new le(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new de(lg(r))}function ag(i,e){return Mh(i.databaseId,e)}function bE(i){const e=og(i);return e.length===4?Ke.emptyPath():lg(e)}function gh(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lg(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Kp(i,e,r){return{name:mh(i,e),fields:r.value.mapValue.fields}}function $E(i,e){let r;if("targetChange"in e){e.targetChange;const o=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:ge()})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(E,I){return E.useProto3Json?(Ue(I===void 0||typeof I=="string"),Rt.fromBase64String(I||"")):(Ue(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Rt.fromUint8Array(I||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(E){const I=E.code===void 0?H.UNKNOWN:ng(E.code);return new le(I,E.message||"")})(f);r=new ig(o,l,c,g||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=Kc(i,o.document.name),c=$n(o.document.updateTime),f=o.document.createTime?$n(o.document.createTime):_e.min(),g=new Kt({mapValue:{fields:o.document.fields}}),_=Lt.newFoundDocument(l,c,f,g),E=o.targetIds||[],I=o.removedTargetIds||[];r=new Fl(E,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=Kc(i,o.document),c=o.readTime?$n(o.readTime):_e.min(),f=Lt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new Fl([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=Kc(i,o.document),c=o.removedTargetIds||[];r=new Fl([],c,l,null)}else{if(!("filter"in e))return ge();{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,f=new xE(l,c),g=o.targetId;r=new rg(g,f)}}return r}function qE(i,e){let r;if(e instanceof la)r={update:Kp(i,e.key,e.value)};else if(e instanceof tg)r={delete:mh(i,e.key)};else if(e instanceof Kr)r={update:Kp(i,e.key,e.data),updateMask:ZE(e.fieldMask)};else{if(!(e instanceof kE))return ge();r={verify:mh(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((o=>(function(c,f){const g=f.transform;if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ra)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ia)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),increment:g.Pe};throw ge()})(0,o)))),e.precondition.isNone||(r.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:zE(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ge()})(i,e.precondition)),r}function WE(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map((r=>(function(l,c){let f=l.updateTime?$n(l.updateTime):$n(c);return f.isEqual(_e.min())&&(f=$n(c)),new RE(f,l.transformResults||[])})(r,e)))):[]}function HE(i,e){return{documents:[ag(i,e.path)]}}function QE(i,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=ag(i,l);const c=(function(E){if(E.length!==0)return cg(Wn.create(E,"and"))})(e.filters);c&&(r.structuredQuery.where=c);const f=(function(E){if(E.length!==0)return E.map((I=>(function(M){return{field:ks(M.field),direction:XE(M.dir)}})(I)))})(e.orderBy);f&&(r.structuredQuery.orderBy=f);const g=dh(i,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{_t:r,parent:l}}function KE(i){let e=bE(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){Ue(o===1);const I=r.from[0];I.allDescendants?l=I.collectionId:e=e.child(I.collectionId)}let c=[];r.where&&(c=(function(D){const M=ug(D);return M instanceof Wn&&Bm(M)?M.getFilters():[M]})(r.where));let f=[];r.orderBy&&(f=(function(D){return D.map((M=>(function(G){return new Wl(Vs(G.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(M)))})(r.orderBy));let g=null;r.limit&&(g=(function(D){let M;return M=typeof D=="object"?D.value:D,Jl(M)?null:M})(r.limit));let _=null;r.startAt&&(_=(function(D){const M=!!D.before,j=D.values||[];return new ql(j,M)})(r.startAt));let E=null;return r.endAt&&(E=(function(D){const M=!D.before,j=D.values||[];return new ql(j,M)})(r.endAt)),fE(e,l,f,c,g,"F",_,E)}function GE(i,e){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function ug(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Vs(r.unaryFilter.field);return ht.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Vs(r.unaryFilter.field);return ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(r.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(r.unaryFilter.field);return ht.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ge()}})(i):i.fieldFilter!==void 0?(function(r){return ht.create(Vs(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return Wn.create(r.compositeFilter.filters.map((o=>ug(o))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ge()}})(r.compositeFilter.op))})(i):ge()}function XE(i){return FE[i]}function YE(i){return UE[i]}function JE(i){return BE[i]}function ks(i){return{fieldPath:i.canonicalString()}}function Vs(i){return St.fromServerFormat(i.fieldPath)}function cg(i){return i instanceof ht?(function(r){if(r.op==="=="){if(Op(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NAN"}};if(Np(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Op(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NAN"}};if(Np(r.value))return{unaryFilter:{field:ks(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(r.field),op:YE(r.op),value:r.value}}})(i):i instanceof Wn?(function(r){const o=r.getFilters().map((l=>cg(l)));return o.length===1?o[0]:{compositeFilter:{op:JE(r.op),filters:o}}})(i):ge()}function ZE(i){const e=[];return i.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function hg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class zr{constructor(e,r,o,l,c=_e.min(),f=_e.min(),g=Rt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class e0{constructor(e){this.ct=e}}function t0(i){const e=KE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fh(e,e.limit,"L"):e}class n0{constructor(){this.un=new r0}addToCollectionParentIndex(e,r){return this.un.add(r),W.resolve()}getCollectionParents(e,r){return W.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return W.resolve()}deleteFieldIndex(e,r){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,r){return W.resolve()}getDocumentsMatchingTarget(e,r){return W.resolve(null)}getIndexType(e,r){return W.resolve(0)}getFieldIndexes(e,r){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,r){return W.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,r){return W.resolve(Wr.min())}updateCollectionGroup(e,r,o){return W.resolve()}updateIndexEntries(e,r){return W.resolve()}}class r0{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new At(Ke.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new At(Ke.comparator)).toArray()}}class Fs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Fs(0)}static kn(){return new Fs(-1)}}class i0{constructor(){this.changes=new bs((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?W.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s0{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class o0{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next((l=>(o=l,this.remoteDocumentCache.getEntry(e,r)))).next((l=>(o!==null&&Xo(o.mutation,l,nn.empty(),ft.now()),l)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((o=>this.getLocalViewOfDocuments(e,o,Re()).next((()=>o))))}getLocalViewOfDocuments(e,r,o=Re()){const l=Ri();return this.populateOverlays(e,l,r).next((()=>this.computeViews(e,r,l,o).next((c=>{let f=qo();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,r){const o=Ri();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,Re())))}populateOverlays(e,r,o){const l=[];return o.forEach((c=>{r.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{r.set(f,g)}))}))}computeViews(e,r,o,l){let c=mr();const f=Go(),g=(function(){return Go()})();return r.forEach(((_,E)=>{const I=o.get(E.key);l.has(E.key)&&(I===void 0||I.mutation instanceof Kr)?c=c.insert(E.key,E):I!==void 0?(f.set(E.key,I.mutation.getFieldMask()),Xo(I.mutation,E,I.mutation.getFieldMask(),ft.now())):f.set(E.key,nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((E,I)=>f.set(E,I))),r.forEach(((E,I)=>{var D;return g.set(E,new s0(I,(D=f.get(E))!==null&&D!==void 0?D:null))})),g)))}recalculateAndSaveOverlays(e,r){const o=Go();let l=new Ye(((f,g)=>f-g)),c=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((f=>{for(const g of f)g.keys().forEach((_=>{const E=r.get(_);if(E===null)return;let I=o.get(_)||nn.empty();I=g.applyToLocalView(E,I),o.set(_,I);const D=(l.get(g.batchId)||Re()).add(_);l=l.insert(g.batchId,D)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),E=_.key,I=_.value,D=Qm();I.forEach((M=>{if(!c.has(M)){const j=Zm(r.get(M),o.get(M));j!==null&&D.set(M,j),c=c.add(M)}})),f.push(this.documentOverlayCache.saveOverlays(e,E,D))}return W.waitFor(f)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((o=>this.recalculateAndSaveOverlays(e,o)))}getDocumentsMatchingQuery(e,r,o,l){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):dE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):W.resolve(Ri());let g=-1,_=c;return f.next((E=>W.forEach(E,((I,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),c.get(I)?W.resolve():this.remoteDocumentCache.getEntry(e,I).next((M=>{_=_.insert(I,M)}))))).next((()=>this.populateOverlays(e,E,c))).next((()=>this.computeViews(e,_,E,Re()))).next((I=>({batchId:g,changes:Hm(I)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new de(r)).next((o=>{let l=qo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l}))}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let f=qo();return this.indexManager.getCollectionParents(e,c).next((g=>W.forEach(g,(_=>{const E=(function(D,M){return new Zl(M,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,E,o,l).next((I=>{I.forEach(((D,M)=>{f=f.insert(D,M)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l)))).next((f=>{c.forEach(((_,E)=>{const I=E.getKey();f.get(I)===null&&(f=f.insert(I,Lt.newInvalidDocument(I)))}));let g=qo();return f.forEach(((_,E)=>{const I=c.get(_);I!==void 0&&Xo(I.mutation,E,nn.empty(),ft.now()),tu(r,E)&&(g=g.insert(_,E))})),g}))}}class a0{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return W.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:$n(l.createTime)}})(r)),W.resolve()}getNamedQuery(e,r){return W.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(l){return{name:l.name,query:t0(l.bundledQuery),readTime:$n(l.readTime)}})(r)),W.resolve()}}class l0{constructor(){this.overlays=new Ye(de.comparator),this.Ir=new Map}getOverlay(e,r){return W.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Ri();return W.forEach(r,(l=>this.getOverlay(e,l).next((c=>{c!==null&&o.set(l,c)})))).next((()=>o))}saveOverlays(e,r,o){return o.forEach(((l,c)=>{this.ht(e,r,c)})),W.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.Ir.get(o);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(o)),W.resolve()}getOverlaysForCollection(e,r,o){const l=Ri(),c=r.length+1,f=new de(r.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,E=_.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&_.largestBatchId>o&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new Ye(((E,I)=>E-I));const f=this.overlays.getIterator();for(;f.hasNext();){const E=f.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let I=c.get(E.largestBatchId);I===null&&(I=Ri(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const g=Ri(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((E,I)=>g.set(E,I))),!(g.size()>=l)););return W.resolve(g)}ht(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const f=this.Ir.get(l.largestBatchId).delete(o.key);this.Ir.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new DE(r,o));let c=this.Ir.get(r);c===void 0&&(c=Re(),this.Ir.set(r,c)),this.Ir.set(r,c.add(o.key))}}class u0{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,W.resolve()}}class Fh{constructor(){this.Tr=new At(_t.Er),this.dr=new At(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new _t(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach((o=>this.addReference(o,r)))}removeReference(e,r){this.Vr(new _t(e,r))}mr(e,r){e.forEach((o=>this.removeReference(o,r)))}gr(e){const r=new de(new Ke([])),o=new _t(r,e),l=new _t(r,e+1),c=[];return this.dr.forEachInRange([o,l],(f=>{this.Vr(f),c.push(f.key)})),c}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new de(new Ke([])),o=new _t(r,e),l=new _t(r,e+1);let c=Re();return this.dr.forEachInRange([o,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const r=new _t(e,0),o=this.Tr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class _t{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return de.comparator(e.key,r.key)||Oe(e.wr,r.wr)}static Ar(e,r){return Oe(e.wr,r.wr)||de.comparator(e.key,r.key)}}class c0{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new At(_t.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VE(c,r,o,l);this.mutationQueue.push(f);for(const g of l)this.br=this.br.add(new _t(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,r){return W.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.vr(o),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new _t(r,0),l=new _t(r,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([o,l],(f=>{const g=this.Dr(f.wr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new At(Oe);return r.forEach((l=>{const c=new _t(l,0),f=new _t(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],(g=>{o=o.add(g.wr)}))})),W.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;de.isDocumentKey(c)||(c=c.child(""));const f=new _t(new de(c),0);let g=new At(Oe);return this.br.forEachWhile((_=>{const E=_.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(g=g.add(_.wr)),!0)}),f),W.resolve(this.Cr(g))}Cr(e){const r=[];return e.forEach((o=>{const l=this.Dr(o);l!==null&&r.push(l)})),r}removeMutationBatch(e,r){Ue(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return W.forEach(r.mutations,(l=>{const c=new _t(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.br=o}))}On(e){}containsKey(e,r){const o=new _t(r,0),l=this.br.firstAfterOrEqual(o);return W.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class h0{constructor(e){this.Mr=e,this.docs=(function(){return new Ye(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,f=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return W.resolve(o?o.document.mutableCopy():Lt.newInvalidDocument(r))}getEntries(e,r){let o=mr();return r.forEach((l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Lt.newInvalidDocument(l))})),W.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=mr();const f=r.path,g=new de(f.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:E,value:{document:I}}=_.getNext();if(!f.isPrefixOf(E.path))break;E.path.length>f.length+1||Qv(Hv(I),o)<=0||(l.has(I.key)||tu(r,I))&&(c=c.insert(I.key,I.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,r,o,l){ge()}Or(e,r){return W.forEach(this.docs,(o=>r(o)))}newChangeBuffer(e){return new f0(this)}getSize(e){return W.resolve(this.size)}}class f0 extends i0{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((o,l)=>{l.isValidDocument()?r.push(this.cr.addEntry(e,l)):this.cr.removeEntry(o)})),W.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class d0{constructor(e){this.persistence=e,this.Nr=new bs((r=>Vh(r)),Dh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fh,this.targetCount=0,this.kr=Fs.Bn()}forEachTarget(e,r){return this.Nr.forEach(((o,l)=>r(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),W.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Fs(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,W.resolve()}updateTargetData(e,r){return this.Kn(r),W.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.Nr.forEach(((f,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return W.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),W.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),W.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return W.resolve(o)}containsKey(e,r){return W.resolve(this.Br.containsKey(r))}}class p0{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Rh(0),this.Kr=!1,this.Kr=!0,this.$r=new u0,this.referenceDelegate=e(this),this.Ur=new d0(this),this.indexManager=new n0,this.remoteDocumentCache=(function(l){return new h0(l)})((o=>this.referenceDelegate.Wr(o))),this.serializer=new e0(r),this.Gr=new a0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new l0,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new c0(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){se("MemoryPersistence","Starting transaction:",e);const l=new m0(this.Qr.next());return this.referenceDelegate.zr(),o(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(e,r){return W.or(Object.values(this.qr).map((o=>()=>o.containsKey(e,r))))}}class m0 extends Gv{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Jr=new Fh,this.Yr=null}static Zr(e){return new Uh(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),W.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),W.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),W.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((l=>this.Xr.add(l.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>o.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,(o=>{const l=de.fromPath(o);return this.ei(e,l).next((c=>{c||r.removeEntry(l,_e.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return W.or([()=>W.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Bh{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=l}static Wi(e,r){let o=Re(),l=Re();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bh(e,r.fromCache,o,l)}}class g0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class y0{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return E_()?8:Xv(__())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.Yi(e,r).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.Zi(e,r,l,o).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new g0;return this.Xi(e,r,f).next((g=>{if(c.result=g,this.zi)return this.es(e,r,f,g.size)}))})).next((()=>c.result))}es(e,r,o,l){return o.documentReadCount<this.ji?(jo()<=xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Ps(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(jo()<=xe.DEBUG&&se("QueryEngine","Query:",Ps(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Hi*l?(jo()<=xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Ps(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(r))):W.resolve())}Yi(e,r){if(Up(r))return W.resolve(null);let o=zn(r);return this.indexManager.getIndexType(e,o).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=fh(r,null,"F"),o=zn(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next((c=>{const f=Re(...c);return this.Ji.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,o).next((_=>{const E=this.ts(r,g);return this.ns(r,E,f,_.readTime)?this.Yi(e,fh(r,null,"F")):this.rs(e,E,r,_)}))))})))))}Zi(e,r,o,l){return Up(r)||l.isEqual(_e.min())?W.resolve(null):this.Ji.getDocuments(e,o).next((c=>{const f=this.ts(r,c);return this.ns(r,f,o,l)?W.resolve(null):(jo()<=xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ps(r)),this.rs(e,f,r,Wv(l,-1)).next((g=>g)))}))}ts(e,r){let o=new At(qm(e));return r.forEach(((l,c)=>{tu(e,c)&&(o=o.add(c))})),o}ns(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(e,r,o){return jo()<=xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Ps(r)),this.Ji.getDocumentsMatchingQuery(e,r,Wr.min(),o)}rs(e,r,o,l){return this.Ji.getDocumentsMatchingQuery(e,o,l).next((c=>(r.forEach((f=>{c=c.insert(f.key,f)})),c)))}}class _0{constructor(e,r,o,l){this.persistence=e,this.ss=r,this.serializer=l,this.os=new Ye(Oe),this._s=new bs((c=>Vh(c)),Dh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function v0(i,e,r,o){return new _0(i,e,r,o)}async function fg(i,e){const r=ve(i);return await r.persistence.runTransaction("Handle user change","readonly",(o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next((c=>(l=c,r.ls(e),r.mutationQueue.getAllMutationBatches(o)))).next((c=>{const f=[],g=[];let _=Re();for(const E of l){f.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}for(const E of c){g.push(E.batchId);for(const I of E.mutations)_=_.add(I.key)}return r.localDocuments.getDocuments(o,_).next((E=>({hs:E,removedBatchIds:f,addedBatchIds:g})))}))}))}function E0(i,e){const r=ve(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(o=>{const l=e.batch.keys(),c=r.cs.newChangeBuffer({trackRemovals:!0});return(function(g,_,E,I){const D=E.batch,M=D.keys();let j=W.resolve();return M.forEach((G=>{j=j.next((()=>I.getEntry(_,G))).next((Y=>{const $=E.docVersions.get(G);Ue($!==null),Y.version.compareTo($)<0&&(D.applyToRemoteDocument(Y,E),Y.isValidDocument()&&(Y.setReadTime(E.commitVersion),I.addEntry(Y)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(_,D)))})(r,o,e,c).next((()=>c.apply(o))).next((()=>r.mutationQueue.performConsistencyCheck(o))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(g){let _=Re();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(_=_.add(g.batch.mutations[E].key));return _})(e)))).next((()=>r.localDocuments.getDocuments(o,l)))}))}function dg(i){const e=ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function w0(i,e){const r=ve(i),o=e.snapshotVersion;let l=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=r.cs.newChangeBuffer({trackRemovals:!0});l=r.os;const g=[];e.targetChanges.forEach(((I,D)=>{const M=l.get(D);if(!M)return;g.push(r.Ur.removeMatchingKeys(c,I.removedDocuments,D).next((()=>r.Ur.addMatchingKeys(c,I.addedDocuments,D))));let j=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(D)!==null?j=j.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):I.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(I.resumeToken,o)),l=l.insert(D,j),(function(Y,$,Ee){return Y.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(M,j,I)&&g.push(r.Ur.updateTargetData(c,j))}));let _=mr(),E=Re();if(e.documentUpdates.forEach((I=>{e.resolvedLimboDocuments.has(I)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,I))})),g.push(T0(c,f,e.documentUpdates).next((I=>{_=I.Ps,E=I.Is}))),!o.isEqual(_e.min())){const I=r.Ur.getLastRemoteSnapshotVersion(c).next((D=>r.Ur.setTargetsMetadata(c,c.currentSequenceNumber,o)));g.push(I)}return W.waitFor(g).next((()=>f.apply(c))).next((()=>r.localDocuments.getLocalViewOfDocuments(c,_,E))).next((()=>_))})).then((c=>(r.os=l,c)))}function T0(i,e,r){let o=Re(),l=Re();return r.forEach((c=>o=o.add(c))),e.getEntries(i,o).next((c=>{let f=mr();return r.forEach(((g,_)=>{const E=c.get(g);_.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(_e.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||_.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):se("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",_.version)})),{Ps:f,Is:l}}))}function I0(i,e){const r=ve(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e))))}function S0(i,e){const r=ve(i);return r.persistence.runTransaction("Allocate target","readwrite",(o=>{let l;return r.Ur.getTargetData(o,e).next((c=>c?(l=c,W.resolve(l)):r.Ur.allocateTargetId(o).next((f=>(l=new zr(e,f,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,l).next((()=>l)))))))})).then((o=>{const l=r.os.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o}))}async function yh(i,e,r){const o=ve(i),l=o.os.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,(f=>o.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!aa(f))throw f;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.os=o.os.remove(e),o._s.delete(l.target)}function Gp(i,e,r){const o=ve(i);let l=_e.min(),c=Re();return o.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,E,I){const D=ve(_),M=D._s.get(I);return M!==void 0?W.resolve(D.os.get(M)):D.Ur.getTargetData(E,I)})(o,f,zn(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>o.ss.getDocumentsMatchingQuery(f,e,r?l:_e.min(),r?c:Re()))).next((g=>(A0(o,mE(e),g),{documents:g,Ts:c})))))}function A0(i,e,r){let o=i.us.get(e)||_e.min();r.forEach(((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)})),i.us.set(e,o)}class Xp{constructor(){this.activeTargetIds=wE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R0{constructor(){this.so=new Xp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xp,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class C0{_o(e){}shutdown(){}}class Yp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dl=null;function Gc(){return Dl===null?Dl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dl++,"0x"+Dl.toString(16)}const P0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k0{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Nt="WebChannelConnection";class V0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(r,o,l,c,f){const g=Gc(),_=this.xo(r,o.toUriEncodedString());se("RestConnection",`Sending RPC '${r}' ${g}:`,_,l);const E={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(E,c,f),this.No(r,_,E,l).then((I=>(se("RestConnection",`Received RPC '${r}' ${g}: `,I),I)),(I=>{throw Ns("RestConnection",`RPC '${r}' ${g} failed with error: `,I,"url: ",_,"request:",l),I}))}Lo(r,o,l,c,f,g){return this.Mo(r,o,l,c,f)}Oo(r,o,l){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zs})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach(((c,f)=>r[f]=c)),l&&l.headers.forEach(((c,f)=>r[f]=c))}xo(r,o){const l=P0[r];return`${this.Do}/v1/${o}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,l){const c=Gc();return new Promise(((f,g)=>{const _=new Cm;_.setWithCredentials(!0),_.listenOnce(Pm.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ol.NO_ERROR:const I=_.getResponseJson();se(Nt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case Ol.TIMEOUT:se(Nt,`RPC '${e}' ${c} timed out`),g(new le(H.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const D=_.getStatus();if(se(Nt,`RPC '${e}' ${c} failed with status:`,D,"response text:",_.getResponseText()),D>0){let M=_.getResponseJson();Array.isArray(M)&&(M=M[0]);const j=M?.error;if(j&&j.status&&j.message){const G=(function($){const Ee=$.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(Ee)>=0?Ee:H.UNKNOWN})(j.status);g(new le(G,j.message))}else g(new le(H.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new le(H.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{se(Nt,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(l);se(Nt,`RPC '${e}' ${c} sending request:`,l),_.send(r,"POST",E,o,15)}))}Bo(e,r,o){const l=Gc(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Dm(),g=Vm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(_.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const I=c.join("");se(Nt,`Creating RPC '${e}' stream ${l}: ${I}`,_);const D=f.createWebChannel(I,_);let M=!1,j=!1;const G=new k0({Io:$=>{j?se(Nt,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(M||(se(Nt,`Opening RPC '${e}' stream ${l} transport.`),D.open(),M=!0),se(Nt,`RPC '${e}' stream ${l} sending:`,$),D.send($))},To:()=>D.close()}),Y=($,Ee,we)=>{$.listen(Ee,(X=>{try{we(X)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return Y(D,$o.EventType.OPEN,(()=>{j||(se(Nt,`RPC '${e}' stream ${l} transport opened.`),G.yo())})),Y(D,$o.EventType.CLOSE,(()=>{j||(j=!0,se(Nt,`RPC '${e}' stream ${l} transport closed`),G.So())})),Y(D,$o.EventType.ERROR,($=>{j||(j=!0,Ns(Nt,`RPC '${e}' stream ${l} transport errored:`,$),G.So(new le(H.UNAVAILABLE,"The operation could not be completed")))})),Y(D,$o.EventType.MESSAGE,($=>{var Ee;if(!j){const we=$.data[0];Ue(!!we);const X=we,pe=X.error||((Ee=X[0])===null||Ee===void 0?void 0:Ee.error);if(pe){se(Nt,`RPC '${e}' stream ${l} received error:`,pe);const Te=pe.status;let ye=(function(A){const P=st[A];if(P!==void 0)return ng(P)})(Te),k=pe.message;ye===void 0&&(ye=H.INTERNAL,k="Unknown error status: "+Te+" with message "+pe.message),j=!0,G.So(new le(ye,k)),D.close()}else se(Nt,`RPC '${e}' stream ${l} received:`,we),G.bo(we)}})),Y(g,km.STAT_EVENT,($=>{$.stat===ah.PROXY?se(Nt,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===ah.NOPROXY&&se(Nt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.wo()}),0),G}}function Xc(){return typeof document<"u"?document:null}function su(i){return new jE(i,!0)}class pg{constructor(e,r,o=1e3,l=1.5,c=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),l=Math.max(0,r-o);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class mg{constructor(e,r,o,l,c,f,g,_){this.ui=e,this.Ho=o,this.Jo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pg(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===H.RESOURCE_EXHAUSTED?(pr(r.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,l])=>{this.Yo===r&&this.P_(o,l)}),(o=>{e((()=>{const l=new le(H.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(l)}))}))}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{o((()=>this.listener.Eo()))})),this.stream.Ro((()=>{o((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{o((()=>this.I_(l)))})),this.stream.onMessage((l=>{o((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class D0 extends mg{constructor(e,r,o,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=$E(this.serializer,e),o=(function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?$n(f.readTime):_e.min()})(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=gh(this.serializer),r.addTarget=(function(c,f){let g;const _=f.target;if(g=hh(_)?{documents:HE(c,_)}:{query:QE(c,_)._t},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=sg(c,f.resumeToken);const E=dh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}else if(f.snapshotVersion.compareTo(_e.min())>0){g.readTime=Kl(c,f.snapshotVersion.toTimestamp());const E=dh(c,f.expectedCount);E!==null&&(g.expectedCount=E)}return g})(this.serializer,e);const o=GE(this.serializer,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=gh(this.serializer),r.removeTarget=e,this.a_(r)}}class x0 extends mg{constructor(e,r,o,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=WE(e.writeResults,e.commitTime),o=$n(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=gh(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((o=>qE(this.serializer,o)))};this.a_(r)}}class N0 extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new le(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Mo(e,ph(r,o),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(H.UNKNOWN,c.toString())}))}Lo(e,r,o,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Lo(e,ph(r,o),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(H.UNKNOWN,f.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class O0{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pr(r),this.D_=!1):se("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class L0{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((f=>{o.enqueueAndForget((async()=>{Oi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await(async function(_){const E=ve(_);E.L_.add(4),await ca(E),E.q_.set("Unknown"),E.L_.delete(4),await ou(E)})(this))}))})),this.q_=new O0(o,l)}}async function ou(i){if(Oi(i))for(const e of i.B_)await e(!0)}async function ca(i){for(const e of i.B_)await e(!1)}function gg(i,e){const r=ve(i);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),$h(r)?bh(r):$s(r).r_()&&zh(r,e))}function jh(i,e){const r=ve(i),o=$s(r);r.N_.delete(e),o.r_()&&yg(r,e),r.N_.size===0&&(o.r_()?o.o_():Oi(r)&&r.q_.set("Unknown"))}function zh(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$s(i).A_(e)}function yg(i,e){i.Q_.xe(e),$s(i).R_(e)}function bh(i){i.Q_=new ME({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),$s(i).start(),i.q_.v_()}function $h(i){return Oi(i)&&!$s(i).n_()&&i.N_.size>0}function Oi(i){return ve(i).L_.size===0}function _g(i){i.Q_=void 0}async function M0(i){i.q_.set("Online")}async function F0(i){i.N_.forEach(((e,r)=>{zh(i,e)}))}async function U0(i,e){_g(i),$h(i)?(i.q_.M_(e),bh(i)):i.q_.set("Unknown")}async function B0(i,e,r){if(i.q_.set("Online"),e instanceof ig&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.N_.delete(g),l.Q_.removeTarget(g))})(i,e)}catch(o){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Gl(i,o)}else if(e instanceof Fl?i.Q_.Ke(e):e instanceof rg?i.Q_.He(e):i.Q_.We(e),!r.isEqual(_e.min()))try{const o=await dg(i.localStore);r.compareTo(o)>=0&&await(function(c,f){const g=c.Q_.rt(f);return g.targetChanges.forEach(((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.N_.get(E);I&&c.N_.set(E,I.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,E)=>{const I=c.N_.get(_);if(!I)return;c.N_.set(_,I.withResumeToken(Rt.EMPTY_BYTE_STRING,I.snapshotVersion)),yg(c,_);const D=new zr(I.target,_,E,I.sequenceNumber);zh(c,D)})),c.remoteSyncer.applyRemoteEvent(g)})(i,r)}catch(o){se("RemoteStore","Failed to raise snapshot:",o),await Gl(i,o)}}async function Gl(i,e,r){if(!aa(e))throw e;i.L_.add(1),await ca(i),i.q_.set("Offline"),r||(r=()=>dg(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{se("RemoteStore","Retrying IndexedDB access"),await r(),i.L_.delete(1),await ou(i)}))}function vg(i,e){return e().catch((r=>Gl(i,r,e)))}async function au(i){const e=ve(i),r=Qr(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;j0(e);)try{const l=await I0(e.localStore,o);if(l===null){e.O_.length===0&&r.o_();break}o=l.batchId,z0(e,l)}catch(l){await Gl(e,l)}Eg(e)&&wg(e)}function j0(i){return Oi(i)&&i.O_.length<10}function z0(i,e){i.O_.push(e);const r=Qr(i);r.r_()&&r.V_&&r.m_(e.mutations)}function Eg(i){return Oi(i)&&!Qr(i).n_()&&i.O_.length>0}function wg(i){Qr(i).start()}async function b0(i){Qr(i).p_()}async function $0(i){const e=Qr(i);for(const r of i.O_)e.m_(r.mutations)}async function q0(i,e,r){const o=i.O_.shift(),l=Oh.from(o,e,r);await vg(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await au(i)}async function W0(i,e){e&&Qr(i).V_&&await(async function(o,l){if((function(f){return NE(f)&&f!==H.ABORTED})(l.code)){const c=o.O_.shift();Qr(o).s_(),await vg(o,(()=>o.remoteSyncer.rejectFailedWrite(c.batchId,l))),await au(o)}})(i,e),Eg(i)&&wg(i)}async function Jp(i,e){const r=ve(i);r.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const o=Oi(r);r.L_.add(3),await ca(r),o&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ou(r)}async function H0(i,e){const r=ve(i);e?(r.L_.delete(2),await ou(r)):e||(r.L_.add(2),await ca(r),r.q_.set("Unknown"))}function $s(i){return i.K_||(i.K_=(function(r,o,l){const c=ve(r);return c.w_(),new D0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Eo:M0.bind(null,i),Ro:F0.bind(null,i),mo:U0.bind(null,i),d_:B0.bind(null,i)}),i.B_.push((async e=>{e?(i.K_.s_(),$h(i)?bh(i):i.q_.set("Unknown")):(await i.K_.stop(),_g(i))}))),i.K_}function Qr(i){return i.U_||(i.U_=(function(r,o,l){const c=ve(r);return c.w_(),new x0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:b0.bind(null,i),mo:W0.bind(null,i),f_:$0.bind(null,i),g_:q0.bind(null,i)}),i.B_.push((async e=>{e?(i.U_.s_(),await au(i)):(await i.U_.stop(),i.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}class qh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const f=Date.now()+o,g=new qh(e,r,f,l,c);return g.start(o),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wh(i,e){if(pr("AsyncQueue",`${e}: ${i}`),aa(i))return new le(H.UNAVAILABLE,`${e}: ${i}`);throw i}class xs{constructor(e){this.comparator=e?(r,o)=>e(r,o)||de.comparator(r.key,o.key):(r,o)=>de.comparator(r.key,o.key),this.keyedMap=qo(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new xs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,o)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new xs;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Zp{constructor(){this.W_=new Ye(de.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?e.type!==0&&o.type===3?this.W_=this.W_.insert(r,e):e.type===3&&o.type!==1?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.W_=this.W_.remove(r):e.type===1&&o.type===2?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,o)=>{e.push(o)})),e}}class Us{constructor(e,r,o,l,c,f,g,_,E){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=E}static fromInitialDocuments(e,r,o,l,c){const f=[];return r.forEach((g=>{f.push({type:0,doc:g})})),new Us(e,r,xs.emptySet(r),f,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}class Q0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class K0{constructor(){this.queries=em(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,o){const l=ve(r),c=l.queries;l.queries=em(),c.forEach(((f,g)=>{for(const _ of g.j_)_.onError(o)}))})(this,new le(H.ABORTED,"Firestore shutting down"))}}function em(){return new bs((i=>$m(i)),eu)}async function G0(i,e){const r=ve(i);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.H_()&&e.J_()&&(o=2):(c=new Q0,o=e.J_()?0:1);try{switch(o){case 0:c.z_=await r.onListen(l,!0);break;case 1:c.z_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const g=Wh(f,`Initialization of query '${Ps(e.query)}' failed`);return void e.onError(g)}r.queries.set(l,c),c.j_.push(e),e.Z_(r.onlineState),c.z_&&e.X_(c.z_)&&Hh(r)}async function X0(i,e){const r=ve(i),o=e.query;let l=3;const c=r.queries.get(o);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?l=e.J_()?0:1:!c.H_()&&e.J_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Y0(i,e){const r=ve(i);let o=!1;for(const l of e){const c=l.query,f=r.queries.get(c);if(f){for(const g of f.j_)g.X_(l)&&(o=!0);f.z_=l}}o&&Hh(r)}function J0(i,e,r){const o=ve(i),l=o.queries.get(e);if(l)for(const c of l.j_)c.onError(r);o.queries.delete(e)}function Hh(i){i.Y_.forEach((e=>{e.next()}))}var _h,tm;(tm=_h||(_h={})).ea="default",tm.Cache="cache";class Z0{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new Us(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const o=r!=="Offline";return(!this.options._a||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_h.Cache}}class Tg{constructor(e){this.key=e}}class Ig{constructor(e){this.key=e}}class ew{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=qm(e),this.Ra=new xs(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new Zp,l=r?r.Ra:this.Ra;let c=r?r.mutatedKeys:this.mutatedKeys,f=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((I,D)=>{const M=l.get(I),j=tu(this.query,D)?D:null,G=!!M&&this.mutatedKeys.has(M.key),Y=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;M&&j?M.data.isEqual(j.data)?G!==Y&&(o.track({type:3,doc:j}),$=!0):this.ga(M,j)||(o.track({type:2,doc:j}),$=!0,(_&&this.Aa(j,_)>0||E&&this.Aa(j,E)<0)&&(g=!0)):!M&&j?(o.track({type:0,doc:j}),$=!0):M&&!j&&(o.track({type:1,doc:M}),$=!0,(_||E)&&(g=!0)),$&&(j?(f=f.add(j),c=Y?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),o.track({type:1,doc:I})}return{Ra:f,fa:o,ns:g,mutatedKeys:c}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort(((I,D)=>(function(j,G){const Y=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return Y(j)-Y(G)})(I.type,D.type)||this.Aa(I.doc,D.doc))),this.pa(o),l=l!=null&&l;const g=r&&!l?this.ya():[],_=this.da.size===0&&this.current&&!l?1:0,E=_!==this.Ea;return this.Ea=_,f.length!==0||E?{snapshot:new Us(this.query,e.Ra,c,f,e.mutatedKeys,_===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach((o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))}));const r=[];return e.forEach((o=>{this.da.has(o)||r.push(new Ig(o))})),this.da.forEach((o=>{e.has(o)||r.push(new Tg(o))})),r}ba(e){this.Ta=e.Ts,this.da=Re();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class tw{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class nw{constructor(e){this.key=e,this.va=!1}}class rw{constructor(e,r,o,l,c,f){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new bs((g=>$m(g)),eu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(de.comparator),this.Na=new Map,this.La=new Fh,this.Ba={},this.ka=new Map,this.qa=Fs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function iw(i,e,r=!0){const o=kg(i);let l;const c=o.Fa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await Sg(o,e,r,!0),l}async function sw(i,e){const r=kg(i);await Sg(r,e,!0,!1)}async function Sg(i,e,r,o){const l=await S0(i.localStore,zn(e)),c=l.targetId,f=i.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await ow(i,e,c,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&gg(i.remoteStore,l),g}async function ow(i,e,r,o,l){i.Ka=(D,M,j)=>(async function(Y,$,Ee,we){let X=$.view.ma(Ee);X.ns&&(X=await Gp(Y.localStore,$.query,!1).then((({documents:k})=>$.view.ma(k,X))));const pe=we&&we.targetChanges.get($.targetId),Te=we&&we.targetMismatches.get($.targetId)!=null,ye=$.view.applyChanges(X,Y.isPrimaryClient,pe,Te);return rm(Y,$.targetId,ye.wa),ye.snapshot})(i,D,M,j);const c=await Gp(i.localStore,e,!0),f=new ew(e,c.Ts),g=f.ma(c.documents),_=ua.createSynthesizedTargetChangeForCurrentChange(r,o&&i.onlineState!=="Offline",l),E=f.applyChanges(g,i.isPrimaryClient,_);rm(i,r,E.wa);const I=new tw(e,r,f);return i.Fa.set(e,I),i.Ma.has(r)?i.Ma.get(r).push(e):i.Ma.set(r,[e]),E.snapshot}async function aw(i,e,r){const o=ve(i),l=o.Fa.get(e),c=o.Ma.get(l.targetId);if(c.length>1)return o.Ma.set(l.targetId,c.filter((f=>!eu(f,e)))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await yh(o.localStore,l.targetId,!1).then((()=>{o.sharedClientState.clearQueryState(l.targetId),r&&jh(o.remoteStore,l.targetId),vh(o,l.targetId)})).catch(oa)):(vh(o,l.targetId),await yh(o.localStore,l.targetId,!0))}async function lw(i,e){const r=ve(i),o=r.Fa.get(e),l=r.Ma.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),jh(r.remoteStore,o.targetId))}async function uw(i,e,r){const o=gw(i);try{const l=await(function(f,g){const _=ve(f),E=ft.now(),I=g.reduce(((j,G)=>j.add(G.key)),Re());let D,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=mr(),Y=Re();return _.cs.getEntries(j,I).next(($=>{G=$,G.forEach(((Ee,we)=>{we.isValidDocument()||(Y=Y.add(Ee))}))})).next((()=>_.localDocuments.getOverlayedDocuments(j,G))).next(($=>{D=$;const Ee=[];for(const we of g){const X=PE(we,D.get(we.key).overlayedDocument);X!=null&&Ee.push(new Kr(we.key,X,Mm(X.value.mapValue),bn.exists(!0)))}return _.mutationQueue.addMutationBatch(j,E,Ee,g)})).next(($=>{M=$;const Ee=$.applyToLocalDocumentSet(D,Y);return _.documentOverlayCache.saveOverlays(j,$.batchId,Ee)}))})).then((()=>({batchId:M.batchId,changes:Hm(D)})))})(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),(function(f,g,_){let E=f.Ba[f.currentUser.toKey()];E||(E=new Ye(Oe)),E=E.insert(g,_),f.Ba[f.currentUser.toKey()]=E})(o,l.batchId,r),await ha(o,l.changes),await au(o.remoteStore)}catch(l){const c=Wh(l,"Failed to persist write");r.reject(c)}}async function Ag(i,e){const r=ve(i);try{const o=await w0(r.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=r.Na.get(c);f&&(Ue(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.va=!0:l.modifiedDocuments.size>0?Ue(f.va):l.removedDocuments.size>0&&(Ue(f.va),f.va=!1))})),await ha(r,o,e)}catch(o){await oa(o)}}function nm(i,e,r){const o=ve(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.Fa.forEach(((c,f)=>{const g=f.view.Z_(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const _=ve(f);_.onlineState=g;let E=!1;_.queries.forEach(((I,D)=>{for(const M of D.j_)M.Z_(g)&&(E=!0)})),E&&Hh(_)})(o.eventManager,e),l.length&&o.Ca.d_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function cw(i,e,r){const o=ve(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Na.get(e),c=l&&l.key;if(c){let f=new Ye(de.comparator);f=f.insert(c,Lt.newNoDocument(c,_e.min()));const g=Re().add(c),_=new iu(_e.min(),new Map,new Ye(Oe),f,g);await Ag(o,_),o.Oa=o.Oa.remove(c),o.Na.delete(e),Qh(o)}else await yh(o.localStore,e,!1).then((()=>vh(o,e,r))).catch(oa)}async function hw(i,e){const r=ve(i),o=e.batch.batchId;try{const l=await E0(r.localStore,e);Cg(r,o,null),Rg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await ha(r,l)}catch(l){await oa(l)}}async function fw(i,e,r){const o=ve(i);try{const l=await(function(f,g){const _=ve(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let I;return _.mutationQueue.lookupMutationBatch(E,g).next((D=>(Ue(D!==null),I=D.keys(),_.mutationQueue.removeMutationBatch(E,D)))).next((()=>_.mutationQueue.performConsistencyCheck(E))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(E,I,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I))).next((()=>_.localDocuments.getDocuments(E,I)))}))})(o.localStore,e);Cg(o,e,r),Rg(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await ha(o,l)}catch(l){await oa(l)}}function Rg(i,e){(i.ka.get(e)||[]).forEach((r=>{r.resolve()})),i.ka.delete(e)}function Cg(i,e,r){const o=ve(i);let l=o.Ba[o.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),o.Ba[o.currentUser.toKey()]=l}}function vh(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Ma.get(e))i.Fa.delete(o),r&&i.Ca.$a(o,r);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach((o=>{i.La.containsKey(o)||Pg(i,o)}))}function Pg(i,e){i.xa.delete(e.path.canonicalString());const r=i.Oa.get(e);r!==null&&(jh(i.remoteStore,r),i.Oa=i.Oa.remove(e),i.Na.delete(r),Qh(i))}function rm(i,e,r){for(const o of r)o instanceof Tg?(i.La.addReference(o.key,e),dw(i,o)):o instanceof Ig?(se("SyncEngine","Document no longer in limbo: "+o.key),i.La.removeReference(o.key,e),i.La.containsKey(o.key)||Pg(i,o.key)):ge()}function dw(i,e){const r=e.key,o=r.path.canonicalString();i.Oa.get(r)||i.xa.has(o)||(se("SyncEngine","New document in limbo: "+r),i.xa.add(o),Qh(i))}function Qh(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const r=new de(Ke.fromString(e)),o=i.qa.next();i.Na.set(o,new nw(r)),i.Oa=i.Oa.insert(r,o),gg(i.remoteStore,new zr(zn(xh(r.path)),o,"TargetPurposeLimboResolution",Rh.oe))}}async function ha(i,e,r){const o=ve(i),l=[],c=[],f=[];o.Fa.isEmpty()||(o.Fa.forEach(((g,_)=>{f.push(o.Ka(_,e,r).then((E=>{var I;if((E||r)&&o.isPrimaryClient){const D=E?!E.fromCache:(I=r?.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;o.sharedClientState.updateQueryState(_.targetId,D?"current":"not-current")}if(E){l.push(E);const D=Bh.Wi(_.targetId,E);c.push(D)}})))})),await Promise.all(f),o.Ca.d_(l),await(async function(_,E){const I=ve(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>W.forEach(E,(M=>W.forEach(M.$i,(j=>I.persistence.referenceDelegate.addReference(D,M.targetId,j))).next((()=>W.forEach(M.Ui,(j=>I.persistence.referenceDelegate.removeReference(D,M.targetId,j)))))))))}catch(D){if(!aa(D))throw D;se("LocalStore","Failed to update sequence numbers: "+D)}for(const D of E){const M=D.targetId;if(!D.fromCache){const j=I.os.get(M),G=j.snapshotVersion,Y=j.withLastLimboFreeSnapshotVersion(G);I.os=I.os.insert(M,Y)}}})(o.localStore,c))}async function pw(i,e){const r=ve(i);if(!r.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const o=await fg(r.localStore,e);r.currentUser=e,(function(c,f){c.ka.forEach((g=>{g.forEach((_=>{_.reject(new le(H.CANCELLED,f))}))})),c.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await ha(r,o.hs)}}function mw(i,e){const r=ve(i),o=r.Na.get(e);if(o&&o.va)return Re().add(o.key);{let l=Re();const c=r.Ma.get(e);if(!c)return l;for(const f of c){const g=r.Fa.get(f);l=l.unionWith(g.view.Va)}return l}}function kg(i){const e=ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ag.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cw.bind(null,e),e.Ca.d_=Y0.bind(null,e.eventManager),e.Ca.$a=J0.bind(null,e.eventManager),e}function gw(i){const e=ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fw.bind(null,e),e}class Xl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return v0(this.persistence,new y0,e.initialUser,this.serializer)}Ga(e){return new p0(Uh.Zr,this.serializer)}Wa(e){return new R0}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xl.provider={build:()=>new Xl};class Eh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>nm(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=pw.bind(null,this.syncEngine),await H0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K0})()}createDatastore(e){const r=su(e.databaseInfo.databaseId),o=(function(c){return new V0(c)})(e.databaseInfo);return(function(c,f,g,_){return new N0(c,f,g,_)})(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return(function(o,l,c,f,g){return new L0(o,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(r=>nm(this.syncEngine,r,0)),(function(){return Yp.D()?new Yp:new C0})())}createSyncEngine(e,r){return(function(l,c,f,g,_,E,I){const D=new rw(l,c,f,g,_,E);return I&&(D.Qa=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(l){const c=ve(l);se("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await ca(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Eh.provider={build:()=>new Eh};class yw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}class _w{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Ot.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,(async f=>{se("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(o,(f=>(se("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Wh(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}async function Yc(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener((async l=>{o.isEqual(l)||(await fg(e.localStore,l),o=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function im(i,e){i.asyncQueue.verifyOperationInProgress();const r=await vw(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener((o=>Jp(e.remoteStore,o))),i.setAppCheckTokenChangeListener(((o,l)=>Jp(e.remoteStore,l))),i._onlineComponents=e}async function vw(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yc(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(l){return l.name==="FirebaseError"?l.code===H.FAILED_PRECONDITION||l.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Ns("Error using user provided cache. Falling back to memory cache: "+r),await Yc(i,new Xl)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Yc(i,new Xl);return i._offlineComponents}async function Vg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await im(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await im(i,new Eh))),i._onlineComponents}function Ew(i){return Vg(i).then((e=>e.syncEngine))}async function sm(i){const e=await Vg(i),r=e.eventManager;return r.onListen=iw.bind(null,e.syncEngine),r.onUnlisten=aw.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=sw.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=lw.bind(null,e.syncEngine),r}function Dg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const om=new Map;function xg(i,e,r){if(!r)throw new le(H.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ww(i,e,r,o){if(e===!0&&o===!0)throw new le(H.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function am(i){if(!de.isDocumentKey(i))throw new le(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function lm(i){if(de.isDocumentKey(i))throw new le(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(o){return o.constructor?o.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ge()}function ki(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Kh(i);throw new le(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}class um{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new le(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ww("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dg((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new le(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new le(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new le(H.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(o,l){return o.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lu{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new um({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new um(e),e.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new Mv;switch(o.type){case"firstParty":return new jv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new le(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const o=om.get(r);o&&(se("ComponentProvider","Removing Datastore"),om.delete(r),o.terminate())})(this),Promise.resolve()}}function Tw(i,e,r,o={}){var l;const c=(i=ki(i,lu))._getSettings(),f=`${e}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),o.mockUserToken){let g,_;if(typeof o.mockUserToken=="string")g=o.mockUserToken,_=Ot.MOCK_USER;else{g=y_(o.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new le(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ot(E)}i._authCredentials=new Fv(new xm(g,_))}}class uu{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new uu(this.firestore,e,this._query)}}class rn{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class qr extends uu{constructor(e,r,o){super(e,r,xh(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new de(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function xl(i,e,...r){if(i=fr(i),xg("collection","path",e),i instanceof lu){const o=Ke.fromString(e,...r);return lm(o),new qr(i,null,o)}{if(!(i instanceof rn||i instanceof qr))throw new le(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ke.fromString(e,...r));return lm(o),new qr(i.firestore,null,o)}}function Ul(i,e,...r){if(i=fr(i),arguments.length===1&&(e=Nm.newId()),xg("doc","path",e),i instanceof lu){const o=Ke.fromString(e,...r);return am(o),new rn(i,null,new de(o))}{if(!(i instanceof rn||i instanceof qr))throw new le(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ke.fromString(e,...r));return am(o),new rn(i.firestore,i instanceof qr?i.converter:null,new de(o))}}class cm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pg(this,"async_queue_retry"),this.Vu=()=>{const o=Xc();o&&se("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Xc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Xc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new Pi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!aa(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((o=>{this.Eu=o,this.du=!1;const l=(function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g})(o);throw pr("INTERNAL UNHANDLED ERROR: ",l),o})).then((o=>(this.du=!1,o))))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const l=qh.createAndSchedule(this,e,r,o,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,o)=>r.targetTimeMs-o.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function hm(i){return(function(r,o){if(typeof r!="object"||r===null)return!1;const l=r;for(const c of o)if(c in l&&typeof l[c]=="function")return!0;return!1})(i,["next","error","complete"])}class sa extends lu{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new cm,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,await e}}}function Iw(i,e){const r=typeof i=="object"?i:Rv(),o=typeof i=="string"?i:"(default)",l=Tv(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=m_("firestore");c&&Tw(l,...c)}return l}function Ng(i){if(i._terminated)throw new le(H.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Sw(i),i._firestoreClient}function Sw(i){var e,r,o;const l=i._freezeSettings(),c=(function(g,_,E,I){return new Zv(g,_,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,Dg(I.experimentalLongPollingOptions),I.useFetchStreams)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new _w(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&(function(g){const _=g?._online.build();return{_offline:g?._offline.build(_),_online:_}})(i._componentsProvider))}class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(Rt.fromBase64String(e))}catch(r){throw new le(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Bs(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cu{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new le(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class Xh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new le(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new le(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}class Yh{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0})(this._values,e._values)}}const Aw=/^__.*__$/;class Rw{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,r,this.fieldTransforms):new la(e,this.data,r,this.fieldTransforms)}}class Og{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Kr(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Lg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Jh{constructor(e,r,o,l,c,f){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.Ou(e),l}Nu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Lg(this.Cu)&&Aw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Cw{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||su(e)}Qu(e,r,o,l=!1){return new Jh({Cu:e,methodName:r,qu:o,path:St.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(i){const e=i._freezeSettings(),r=su(i._databaseId);return new Cw(i._databaseId,!!e.ignoreUndefinedProperties,r)}function Pw(i,e,r,o,l,c={}){const f=i.Qu(c.merge||c.mergeFields?2:0,e,r,l);Zh("Data must be an object, but it was:",f,o);const g=Fg(o,f);let _,E;if(c.merge)_=new nn(f.fieldMask),E=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const D of c.mergeFields){const M=wh(e,D,r);if(!f.contains(M))throw new le(H.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);Bg(I,M)||I.push(M)}_=new nn(I),E=f.fieldTransforms.filter((D=>_.covers(D.field)))}else _=null,E=f.fieldTransforms;return new Rw(new Kt(g),_,E)}class hu extends Gh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hu}}function kw(i,e,r,o){const l=i.Qu(1,e,r);Zh("Data must be an object, but it was:",l,o);const c=[],f=Kt.empty();Ni(o,((_,E)=>{const I=ef(e,_,r);E=fr(E);const D=l.Nu(I);if(E instanceof hu)c.push(I);else{const M=fu(E,D);M!=null&&(c.push(I),f.set(I,M))}}));const g=new nn(c);return new Og(f,g,l.fieldTransforms)}function Vw(i,e,r,o,l,c){const f=i.Qu(1,e,r),g=[wh(e,o,r)],_=[l];if(c.length%2!=0)throw new le(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(wh(e,c[M])),_.push(c[M+1]);const E=[],I=Kt.empty();for(let M=g.length-1;M>=0;--M)if(!Bg(E,g[M])){const j=g[M];let G=_[M];G=fr(G);const Y=f.Nu(j);if(G instanceof hu)E.push(j);else{const $=fu(G,Y);$!=null&&(E.push(j),I.set(j,$))}}const D=new nn(E);return new Og(I,D,f.fieldTransforms)}function fu(i,e){if(Ug(i=fr(i)))return Zh("Unsupported field value:",e,i),Fg(i,e);if(i instanceof Gh)return(function(o,l){if(!Lg(l.Cu))throw l.Bu(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(o,l){const c=[];let f=0;for(const g of o){let _=fu(g,l.Lu(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(i,e)}return(function(o,l){if((o=fr(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return TE(l.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=ft.fromDate(o);return{timestampValue:Kl(l.serializer,c)}}if(o instanceof ft){const c=new ft(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Kl(l.serializer,c)}}if(o instanceof Xh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Bs)return{bytesValue:sg(l.serializer,o._byteString)};if(o instanceof rn){const c=l.databaseId,f=o.firestore._databaseId;if(!f.isEqual(c))throw l.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mh(o.firestore._databaseId||l.databaseId,o._key.path)}}if(o instanceof Yh)return(function(f,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Bu("VectorValues must only contain numeric values.");return Nh(g.serializer,_)}))}}}}}})(o,l);throw l.Bu(`Unsupported field value: ${Kh(o)}`)})(i,e)}function Fg(i,e){const r={};return Om(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(i,((o,l)=>{const c=fu(l,e.Mu(o));c!=null&&(r[o]=c)})),{mapValue:{fields:r}}}function Ug(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Xh||i instanceof Bs||i instanceof rn||i instanceof Gh||i instanceof Yh)}function Zh(i,e,r){if(!Ug(r)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(r)){const o=Kh(r);throw o==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+o)}}function wh(i,e,r){if((e=fr(e))instanceof cu)return e._internalPath;if(typeof e=="string")return ef(i,e);throw Yl("Field path arguments must be of type string or ",i,!1,void 0,r)}const Dw=new RegExp("[~\\*/\\[\\]]");function ef(i,e,r){if(e.search(Dw)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new cu(...e.split("."))._internalPath}catch{throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Yl(i,e,r,o,l){const c=o&&!o.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${o}`),f&&(_+=` in document ${l}`),_+=")"),new le(H.INVALID_ARGUMENT,g+i+_)}function Bg(i,e){return i.some((r=>r.isEqual(e)))}class jg{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(zg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class xw extends jg{data(){return super.data()}}function zg(i,e){return typeof e=="string"?ef(i,e):e instanceof cu?e._internalPath:e._delegate._internalPath}function Nw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{convertValue(e,r="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Ni(e,((l,c)=>{o[l]=this.convertValue(c,r)})),o}convertVectorValue(e){var r,o,l;const c=(l=(o=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map((f=>nt(f.doubleValue)));return new Yh(c)}convertGeoPoint(e){return new Xh(nt(e.latitude),nt(e.longitude))}convertArray(e,r){return(e.values||[]).map((o=>this.convertValue(o,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ph(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const r=Hr(e);return new ft(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=Ke.fromString(e);Ue(hg(o));const l=new ta(o.get(1),o.get(3)),c=new de(o.popFirst(5));return l.isEqual(r)||pr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}function Lw(i,e,r){let o;return o=i?i.toFirestore(e):e,o}class Ho{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bg extends jg{constructor(e,r,o,l,c,f){super(e,r,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(zg("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Bl extends bg{data(e={}){return super.data(e)}}class Mw{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Ho(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((o=>{e.call(r,new Bl(this._firestore,this._userDataWriter,o.key,o,new Ho(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new le(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const _=new Bl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ho(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ho(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,I=-1;return g.type!==0&&(E=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),I=f.indexOf(g.doc.key)),{type:Fw(g.type),doc:_,oldIndex:E,newIndex:I}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Fw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class $g extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,r)}}function Jc(i,e,r,...o){i=ki(i,rn);const l=ki(i.firestore,sa),c=Mg(l);let f;return f=typeof(e=fr(e))=="string"||e instanceof cu?Vw(c,"updateDoc",i._key,e,r,o):kw(c,"updateDoc",i._key,e),qg(l,[f.toMutation(i._key,bn.exists(!0))])}function fm(i,e){const r=ki(i.firestore,sa),o=Ul(i),l=Lw(i.converter,e);return qg(r,[Pw(Mg(i.firestore),"addDoc",o._key,l,i.converter!==null,{}).toMutation(o._key,bn.exists(!1))]).then((()=>o))}function dm(i,...e){var r,o,l;i=fr(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||hm(e[f])||(c=e[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(hm(e[f])){const D=e[f];e[f]=(r=D.next)===null||r===void 0?void 0:r.bind(D),e[f+1]=(o=D.error)===null||o===void 0?void 0:o.bind(D),e[f+2]=(l=D.complete)===null||l===void 0?void 0:l.bind(D)}let _,E,I;if(i instanceof rn)E=ki(i.firestore,sa),I=xh(i._key.path),_={next:D=>{e[f]&&e[f](Uw(E,i,D))},error:e[f+1],complete:e[f+2]};else{const D=ki(i,uu);E=ki(D.firestore,sa),I=D._query;const M=new $g(E);_={next:j=>{e[f]&&e[f](new Mw(E,M,D,j))},error:e[f+1],complete:e[f+2]},Nw(i._query)}return(function(M,j,G,Y){const $=new yw(Y),Ee=new Z0(j,$,G);return M.asyncQueue.enqueueAndForget((async()=>G0(await sm(M),Ee))),()=>{$.Za(),M.asyncQueue.enqueueAndForget((async()=>X0(await sm(M),Ee)))}})(Ng(E),I,g,_)}function qg(i,e){return(function(o,l){const c=new Pi;return o.asyncQueue.enqueueAndForget((async()=>uw(await Ew(o),l,c))),c.promise})(Ng(i),e)}function Uw(i,e,r){const o=r.docs.get(e._key),l=new $g(i);return new bg(i,l,e._key,o,new Ho(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(l){zs=l})(Av),bl(new Yo("firestore",((o,{instanceIdentifier:l,options:c})=>{const f=o.getProvider("app").getImmediate(),g=new sa(new Uv(o.getProvider("auth-internal")),new bv(o.getProvider("app-check-internal")),(function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new le(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(E.options.projectId,I)})(f,l),f);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ds(Pp,"4.7.3",e),Ds(Pp,"4.7.3","esm2017")})();var Bw="firebase",jw="10.14.1";Ds(Bw,jw,"app");const zw={apiKey:"AIzaSy...",authDomain:"ampi-fest.firebaseapp.com",projectId:"ampi-fest",storageBucket:"ampi-fest.appspot.com",messagingSenderId:"XXXXXXXX",appId:"XXXXXXXX"},bw=Im(zw),Ii=Iw(bw),$w=" Ampi Fest  15 Aos ",qw=["Via","Lata","Gancia","Fernet","Gaseosa"],Ww="barman123",Hw="orga123";function Qw(){const[i,e]=hr.useState(null),[r,o]=hr.useState(""),[l,c]=hr.useState(localStorage.getItem("nombreInvitado")||""),[f,g]=hr.useState(!!localStorage.getItem("nombreInvitado")),[_,E]=hr.useState(""),[I,D]=hr.useState([]),[M,j]=hr.useState([]);hr.useEffect(()=>{const X=dm(xl(Ii,"usuarios"),Te=>D(Te.docs.map(ye=>({id:ye.id,...ye.data()})))),pe=dm(xl(Ii,"solicitudes"),Te=>j(Te.docs.map(ye=>({id:ye.id,...ye.data()}))));return()=>{X(),pe()}},[]);const G=()=>{e(null),o("")},Y=async()=>{if(!l||!_)return;f||(localStorage.setItem("nombreInvitado",l),g(!0));const X=M.filter(Te=>Te.nombre===l&&Te.bebida!=="Gaseosa"&&["pendiente","aprobada","entregado"].includes(Te.estado)).length;let pe="pendiente";(_==="Gaseosa"||X<2)&&(pe="aprobada"),await fm(xl(Ii,"solicitudes"),{nombre:l,bebida:_,estado:pe,creada:new Date}),E("")},$=async X=>{await Jc(Ul(Ii,"solicitudes",X.id),{estado:"aprobada"})},Ee=async X=>{const pe=new Date;await Jc(Ul(Ii,"solicitudes",X.id),{estado:"entregado",horaEntrega:pe});const Te=I.find(ye=>ye.nombre===X.nombre);Te?await Jc(Ul(Ii,"usuarios",Te.id),{consumidos:[...Te.consumidos||[],{bebida:X.bebida,hora:pe}]}):await fm(xl(Ii,"usuarios"),{nombre:X.nombre,consumidos:[{bebida:X.bebida,hora:pe}]})},we=()=>{let X=`Nombre,Bebida,Hora
`;I.forEach(ye=>{(ye.consumidos||[]).forEach(k=>{const T=k.hora?.seconds?new Date(k.hora.seconds*1e3).toLocaleTimeString():"";X+=`${ye.nombre},${k.bebida},${T}
`})});const pe=new Blob([X],{type:"text/csv"}),Te=document.createElement("a");Te.href=URL.createObjectURL(pe),Te.download="reporte_ampifest.csv",Te.click()};return i?i==="invitado"?ce.jsxs(Cs,{children:[ce.jsx(Nl,{children:"Invitado"}),ce.jsxs(Si,{children:[ce.jsx(eh,{placeholder:"Tu nombre",value:l,disabled:f,onChange:X=>c(X.target.value)}),ce.jsxs(Kw,{value:_,onChange:X=>E(X.target.value),children:[ce.jsx("option",{value:"",children:"Eleg bebida"}),qw.map(X=>ce.jsx("option",{children:X},X))]}),ce.jsx(zo,{onClick:Y,children:"Solicitar bebida"})]}),ce.jsx(Si,{children:M.filter(X=>X.nombre===l).map(X=>ce.jsxs(Zc,{children:[X.bebida,"  ",X.estado]},X.id))}),ce.jsx(bo,{onClick:G})]}):i==="organizador"?r!==Hw?ce.jsx(Cs,{children:ce.jsxs(Si,{children:[ce.jsx(eh,{type:"password",placeholder:"Clave organizador",value:r,onChange:X=>o(X.target.value)}),ce.jsx(bo,{onClick:G})]})}):ce.jsxs(Cs,{children:[ce.jsx(Nl,{children:"Organizador"}),ce.jsxs(Si,{children:[ce.jsx("h3",{children:"Solicitudes pendientes"}),M.filter(X=>X.estado==="pendiente").map(X=>{const pe=I.find(Te=>Te.nombre===X.nombre)?.consumidos||[];return ce.jsxs(Zc,{children:[ce.jsx("strong",{children:X.nombre}),"  ",X.bebida,ce.jsxs("div",{style:{fontSize:14},children:["Consumidas: ",pe.length]}),ce.jsx(pm,{onClick:()=>$(X),children:"Aprobar"})]},X.id)})]}),ce.jsx(zo,{onClick:we,children:"Generar reporte"}),ce.jsx(bo,{onClick:G})]}):i==="barman"?r!==Ww?ce.jsx(Cs,{children:ce.jsxs(Si,{children:[ce.jsx(eh,{type:"password",placeholder:"Clave barman",value:r,onChange:X=>o(X.target.value)}),ce.jsx(bo,{onClick:G})]})}):ce.jsxs(Cs,{children:[ce.jsx(Nl,{children:"Barman"}),ce.jsx(Si,{children:M.filter(X=>X.estado==="aprobada").map(X=>ce.jsxs(Zc,{children:[X.nombre,"  ",X.bebida,ce.jsx(pm,{onClick:()=>Ee(X),children:"Entregar"})]},X.id))}),ce.jsx(bo,{onClick:G})]}):null:ce.jsxs(Cs,{children:[ce.jsx(Nl,{children:$w}),ce.jsxs(Si,{children:[ce.jsx(zo,{onClick:()=>e("invitado"),children:"Invitado"}),ce.jsx(zo,{onClick:()=>e("barman"),children:"Barman"}),ce.jsx(zo,{onClick:()=>e("organizador"),children:"Organizador"})]})]})}const Cs=({children:i})=>ce.jsx("div",{style:Hn.screen,children:ce.jsx("div",{style:Hn.app,children:i})}),Si=({children:i})=>ce.jsx("div",{style:Hn.card,children:i}),Nl=({children:i})=>ce.jsx("h1",{style:Hn.title,children:i}),Zc=({children:i})=>ce.jsx("div",{style:Hn.item,children:i}),eh=i=>ce.jsx("input",{...i,style:Hn.input}),Kw=i=>ce.jsx("select",{...i,style:Hn.input}),zo=i=>ce.jsx("button",{...i,style:Hn.big}),pm=i=>ce.jsx("button",{...i,style:Hn.small}),bo=({onClick:i})=>ce.jsx("button",{onClick:i,style:Hn.back,children:" Volver"}),Hn={screen:{minHeight:"100vh",backgroundImage:`url(${s_})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",backgroundColor:"#000",display:"flex",justifyContent:"center",alignItems:"center",padding:16},app:{width:"100%",maxWidth:420,color:"white"},title:{textAlign:"center",fontSize:32,fontWeight:"900",marginBottom:20,background:"linear-gradient(90deg,#f472b6,#fb7185,#facc15)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 12px rgba(255,255,255,0.4)"},card:{background:"rgba(0,0,0,0.65)",padding:20,borderRadius:24,marginBottom:16,backdropFilter:"blur(8px)"},item:{background:"rgba(255,255,255,0.18)",padding:12,borderRadius:14,marginBottom:8,fontSize:15},input:{width:"100%",padding:16,marginBottom:12,borderRadius:14,border:"none",fontSize:16},big:{width:"100%",padding:18,marginBottom:12,borderRadius:18,border:"none",fontSize:18,fontWeight:"700",background:"linear-gradient(135deg,#ec4899,#f43f5e)",color:"white"},small:{marginLeft:10,padding:"8px 14px",borderRadius:12,border:"none",background:"#22c55e",color:"black",fontWeight:"600"},back:{width:"100%",padding:16,borderRadius:18,border:"none",background:"#6b7280",color:"white",fontSize:16,fontWeight:"600"}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});i_.createRoot(document.getElementById("root")).render(ce.jsx(Yy.StrictMode,{children:ce.jsx(Qw,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")});
